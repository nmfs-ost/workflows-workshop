[
  {
    "objectID": "resources/terminology.html",
    "href": "resources/terminology.html",
    "title": "Terminology",
    "section": "",
    "text": "Terminology\nThe following are a list of terms we may use throughout the workshop that might be new or relatively new to some users:\n\n\n\n\n\n\n\nTerm\nDefinition\n\n\n\n\nAbsolute filepath\nA filepath that starts in relation to the root directory (oftentimes the start of your hard drive). For example, the absolute filepath for a file ‚ÄúC:/Documents/metadata.qmd‚Äù would be ‚ÄúC:/Documents/metadata.qmd‚Äù.\n\n\nRelative filepath\nA filepath that starts in relation to the working directory. For example, if the working directory is ‚ÄúC:/Documents/‚Äù, then the relative filepath for a file ‚ÄúC:/Documents/metadata.qmd‚Äù would be ‚Äúmetadata.qmd‚Äù.\n\n\nRender\nSynonymous with compile; build the document to produce a single html or pdf report\n\n\nSkeleton\nThe central controlling Quarto document created from {asar}. The document filename will contain ‚Äòskeleton‚Äô\n\n\nWorking directory\nThe place where your program looks for files. If you are working within an R Project, the working directory is the folder that contains every file within your project. You can identify it with the getwd() command.",
    "crumbs": [
      "Terminology"
    ]
  },
  {
    "objectID": "resources/checklist.html",
    "href": "resources/checklist.html",
    "title": "Pre-workshop checklist",
    "section": "",
    "text": "Here are the main steps needed to set up your environment so that you‚Äôre ready to use {asar} and {stockplotr} to create a stock assessment report.\nIf you have any questions, please contact the workshop organizers.\n\nCoding environment = your local machine\n\nEnsure that you can run R code with a platform like RStudio, VS Code, Positron, etc.\nEnsure you have downloaded Quarto, version 1.6+ and can create Quarto documents.\nCreate a new Github repo for the workshop.\nClone your repo and set up an RStudio Project.\nRun the following code to get two essential files from the workflows-workshop github repo:\n\n\ninput data file ‚ÄúReport.sso‚Äù will save to a ‚Äúexample_output‚Äù folder in your home directory\nexample plot file ‚Äúlandings_fig_png.png‚Äù will save to a ‚Äúexample_plots‚Äù folder in your home directory\n\n\n# Function to obtain two files used during workshop\nget_workshop_files &lt;- function(dest_folder,\n                               dest_file,\n                               url){\n  if (!file.exists(dest_folder)) {\n    dir.create(dest_folder)\n  }\n  if (!file.exists(dest_file)) {\n    cli::cli_alert_info(\"üì• Downloading {dest_file}...\")\n    download.file(url, dest_file, mode = \"wb\")\n    message(\"‚úÖ Download complete.\")\n  } else {\n    cli::cli_alert_info(\"‚úÖ File already exists: {dest_file}\")\n  }\n}\n\n# Obtain example output file\nget_workshop_files(\n  dest_folder = file.path(\"example_output\"),\n  dest_file = file.path(\"example_output\", \"Report.sso\"),\n  url = \"https://raw.githubusercontent.com/nmfs-ost/workflows-workshop/main/example_output/Report.sso\"\n  )\n\n# Obtain example figure file\nget_workshop_files(\n  dest_folder = file.path(\"example_plots\"),\n  dest_file = file.path(\"example_plots\", \"landings_fig_png.png\"),\n  url = \"https://github.com/nmfs-ost/workflows-workshop/blob/main/example_plots/landings_fig_png.png\"\n  )\n\n\nInstall important R packages\n\n\n\n\n\n\n\nTipTip\n\n\n\nThe following packages are already installed in the {asar} workspace on JupyterHub, so if you are using that space, you can skip this section.\n\n\nWe recommend using the {pak} R package to install R packages where possible, since it avoids re-downloading files if they‚Äôre already present.\ninstall.packages(\"pak\")\n\n{asar}\n\npak::pak(\"nmfs-ost/asar\")\nPlease see the {asar} README for more installation options.\n\n{stockplotr}\n\npak::pak(\"nmfs-ost/stockplotr\")\nPlease see the stockplotr README for more installation options.\n\n{tinytex}\n\nWe recommend installing the full {tinytex} bundle to ensure that all LaTeX packages will be present when you need them. This will take ~30 minutes to complete.\npak::pkg_install(\"rstudio/tinytex\")\ntinytex::install_tinytex(bundle = \"TinyTeX-2\")\n\nExplore {asar} and {stockplotr} websites\n\nBrowse the {asar} and {stockplotr} websites- especially the cheatsheets and articles.\n\n\nCoding environment = the cloud (Jupyterhub)\n\n\n\n\n\n\nImportant\n\n\n\nCurrently, this option is only available for NSAW workshop participants.\n\n\nWhile we strongly encourage everyone to set up their coding environment on their local machines, we recognize that some may prefer to use a temporary, cloud-based environment for this workshop. You must export any files you wish to keep on the same day of the workshop or else they will be erased.\nYou can access a JupyterHub workshop server for this purpose. Before the workshop begins, please familiarize yourself with the setup instructions on the NSAW workshop page and contact us for the password.\nThen, follow steps 3, 4, 5, and 7 in the section above.",
    "crumbs": [
      "Pre-workshop checklist"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html",
    "href": "Curriculum/Day_1/day_1.html",
    "title": "Day 1",
    "section": "",
    "text": "Identify purpose and scope of workshop\nLearn how R markdown can be used to enhance {asar} reports\nUnderstand how Quarto is used to structure an {asar} report\nInstall software necessary to build an {asar} report",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#icebreaker",
    "href": "Curriculum/Day_1/day_1.html#icebreaker",
    "title": "Day 1",
    "section": "Icebreaker",
    "text": "Icebreaker\nWelcome! Please open the Day 1 communal notes doc and participate in the icebreaker exercise.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#code-of-conduct",
    "href": "Curriculum/Day_1/day_1.html#code-of-conduct",
    "title": "Day 1",
    "section": "Code of conduct",
    "text": "Code of conduct\nEveryone participating in this workshop is required to abide by the terms of our Code of Conduct. We encourage you to contribute to a positive environment for our community by:\n\nDemonstrating empathy and kindness toward other people\nBeing respectful of differing opinions, viewpoints, and experiences\nGiving and gracefully accepting constructive feedback\nAccepting responsibility and apologizing to those affected by our mistakes, and learning from the experience\nFocusing on what is best not just for us as individuals, but for the overall community\n\nIf you believe that someone is in violation of the Code of Conduct, please report the incident to the workshop instructors and/or the community leaders responsible for enforcement using this form.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#who-are-we",
    "href": "Curriculum/Day_1/day_1.html#who-are-we",
    "title": "Day 1",
    "section": "Who are we?",
    "text": "Who are we?\nSam Schiano and Sophie Breitbart are contractors with ECS Federal working in support of the NOAA Fisheries National Stock Assessment Program. Our work primarily focuses on stock assessment workflows by creating tools to help stock assessment scientists increase throughput. We are developing two R packages, {asar} and {stockplotr}, using an open science framework that prioritizes transparency and reproducibility.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#how-to-engage-with-us",
    "href": "Curriculum/Day_1/day_1.html#how-to-engage-with-us",
    "title": "Day 1",
    "section": "How to engage with us",
    "text": "How to engage with us\nQuestions: Please raise your hand, or write your question in the chat, at any time. Depending on our schedule, we may ask that you save larger questions for breaks.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#materials-for-todays-lesson",
    "href": "Curriculum/Day_1/day_1.html#materials-for-todays-lesson",
    "title": "Day 1",
    "section": "Materials for today‚Äôs lesson",
    "text": "Materials for today‚Äôs lesson\n\nDay 1 communal notes doc\n\nContains resources (from us and you!) and areas for note-taking\n\nSample data\n\nSample model output data for coding demonstrations\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#workshop-overview",
    "href": "Curriculum/Day_1/day_1.html#workshop-overview",
    "title": "Day 1",
    "section": "Workshop overview",
    "text": "Workshop overview\n\nPurpose and benefits to you\nBy the end of this workshop, we hope that you come away with the knowledge and confidence to write your next stock assessment report using a reproducible, efficient, and transparent workflow based on {asar} and {stockplotr}.\n{asar} is designed to:\n\nReduce the barriers of entry to using Quarto\nFamiliarize stock assessment scientists with reproducible workflows\nShift towards a more concise reporting format\nMove towards a more centralized workflow across NOAA Fisheries\n\nAn {asar} workflow can help ease the following challenges:\n\nChallenges faced by stock assessment scientists\n\nAchieving accessibility standards (section 508 compliance)\nIteratively changing a report during review\nMeeting variable expectations for report structure and language\nFollowing structure of inherited assessments\nCollaborating\n\n\n\nChallenges from a national perspective\n\nDifferences in reporting among regions\nDivergent expectations from associated councils\n\n\n\n\n\n\n\nNote\n\n\n\nWe have communicated with representatives from each council and all have expressed support for our proposed standardized report template.\n\n\n\n\n\nScope of workshop\nDuring this workshop, we will cover the following topics:\n\nMarkdown language\nQuarto basics\nHow to set up a reporting workflow using {asar}\nHow to create semi-automated figures and tables with {stockplotr}",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#what-is-markdown",
    "href": "Curriculum/Day_1/day_1.html#what-is-markdown",
    "title": "Day 1",
    "section": "What is markdown?",
    "text": "What is markdown?\nAccording to RStudio, markdown is ‚Äúan easy-to-write plain text format‚Äù; not exactly a language, but a formatting style.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#why-use-r-markdown",
    "href": "Curriculum/Day_1/day_1.html#why-use-r-markdown",
    "title": "Day 1",
    "section": "Why use R markdown?",
    "text": "Why use R markdown?\nR markdown, or ‚ÄúRmd‚Äù for short, allows you to create amazingly dynamic reports. With R markdown, you can embed your R code directly into your documents. When you ‚Äúknit‚Äù the document, the code is executed, and the results‚Äî like figures, tables, parameters, citations, and other outputs‚Äî are automatically inserted into the final report.\nA major reason why R markdown is incredibly useful: it saves time and reduces errors. If your data changes, you don‚Äôt have to manually rerun your analysis and copy/paste the results. You just re-knit the document, and everything is updated automatically.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#opening-a-document",
    "href": "Curriculum/Day_1/day_1.html#opening-a-document",
    "title": "Day 1",
    "section": "Opening a document",
    "text": "Opening a document\nLet‚Äôs open a new document. We‚Äôll open a Quarto document (Qmd) because it also runs Rmd code; it‚Äôs a newer document type that can handle more than Rmd can.\n\nIn RStudio, go to File &gt; New File &gt; Quarto document‚Ä¶.\nA dialog box will appear. If you wish, you can give your document a title and author.\nFor the output format, you can select HTML, PDF, or Word. Let‚Äôs choose HTML.\nClick OK.\n\nYou‚Äôll now see a new Quarto file with some default text. Let‚Äôs explore some ways you can take advantage of this powerful document type.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#the-core-components",
    "href": "Curriculum/Day_1/day_1.html#the-core-components",
    "title": "Day 1",
    "section": "The core components",
    "text": "The core components\n\nThe YAML Header: This is the section at the top of the file, enclosed by triple dashes (---). It contains metadata about the document, like the title, author, and output format.\nText and Formatting: This is where you‚Äôll write the narrative of your report using Markdown syntax.\nCode Chunks: These are sections of the document where you can embed and run your R code.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#common-uses-in-asar-reports",
    "href": "Curriculum/Day_1/day_1.html#common-uses-in-asar-reports",
    "title": "Day 1",
    "section": "Common uses in {asar} reports",
    "text": "Common uses in {asar} reports\nNow, let‚Äôs dive into some of the most common features you‚Äôll be using when creating {asar} reports.\n\nParameters\nParameters allow you to create dynamic reports. You can define parameters in the YAML header and then reference them in your text and code.\nFor example, you could have a parameter for the species you‚Äôre writing about:\n\n---\ntitle: \"Stock Assessment Report\"\nauthor: \"Patrick Star\"\ndate: today\nparams:\n  species: \"Petrale sole\"\n---\n\nThen, in the body of your report, you can reference this parameter like this:\n‚ÄúThe native range of `params$species` spans from‚Ä¶‚Äù\nWhen you knit the document, `params$species` will be replaced with ‚ÄúPetrale sole‚Äù.\n\n\nFormatting\nR Markdown uses a simple syntax for formatting your text. Here are some of the most common formatting options:\n\nHeaders\n\n# signifies a top-level header\n## signifies a second-level header (etc.)\n\nEmphasis\n\n*italic* for italic text\n**bold** for bold text\n\nLists\n\nUnordered lists: Use * or - at the beginning of a line.\nOrdered lists: Use numbers followed by a period.\n\nLinks\n\n[link text](URL)\n\n\n\n\nMath and Equations\nYou can include LaTeX-style math equations in your report.\n\nInline math: Wrap your equation in single dollar signs: $A = \\pi * r^2$\nBlock equations: Wrap your equation in double dollar signs to display it on its own line: $$     E = mc^2     $$\n\n\n\nReferences and Bibliography\nYou can easily add citations to your report. We provide an asar_references.bib file in the ‚Äúreport‚Äù folder with hundreds of citations for you to reference, though you can add your own to the file too.\nTo cite a reference in the text, use the @ symbol followed by the citation key (e.g., @Biddle_1992). R Markdown will automatically format the citation and add it to the ‚ÄúReferences‚Äù section towards the end of your report.\nHere‚Äôs an example entry from the .bib file:\n@article{Biddle_1992,\n  title={Repton and the Vikings},\n  volume={66},\n  DOI={10.1017/S0003598X00081023},\n  number={250}, journal={Antiquity},\n  author={Biddle, Martin and Kj√∏lbye-Biddle, Birthe},\n  year={1992},\n  pages={36‚Äì51}\n}\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Markdown\n\n\n\n\n\n\nCreate a new quarto document\nAdd the following elements:\n\n\nLevel 1 header (call it ‚ÄúSandwiches‚Äù)\nLevel 2 header (call it ‚ÄúMy favorite sandwich‚Äù)\n\n\nUnder heading level 2, add a sentence that describes your favorite sandwich. Italicize ‚Äúfavorite‚Äù and bold the sandwich name.\nAdd an unordered list with the sandwich‚Äôs ingredients.\nAdd an ordered list with the steps needed to make the sandwich.\nFind the first ingredient in the list and add a link to its wikipedia page.\nYour instructors are hungry, and they‚Äôre demanding that you split your sandwich with them. Use an inline mathematical notation to write the fraction necessary to feed the three of you.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Markdown\n\n\n\n\n\n\nCreate a new quarto document\n\nAnswer: Follow directions in the Day 1 ‚ÄúOpening a Document‚Äù section\n\nAdd the following elements:\n\n\nLevel 1 header (call it ‚ÄúSandwiches‚Äù)\nLevel 2 header (call it ‚ÄúMy favorite sandwich‚Äù)\n\n\nUnder heading level 2, add a sentence that describes your favorite sandwich. Italicize ‚Äúfavorite‚Äù and bold the sandwich name.\nAdd an unordered list with the sandwich‚Äôs ingredients.\nAdd an ordered list with the steps needed to make the sandwich.\nFind the first ingredient in the list and add a link to its wikipedia page.\nYour instructors are hungry, and they‚Äôre demanding that you split your sandwich with them. Use an inline mathematical notation to write the fraction necessary to feed the three of you.\n\nAnswers: Add code like the following:\n\n# Sandwiches\n\n## My favorite sandwich\n\nMy *favorite* sandwich is a **peanut butter and jelly sandwich**.\n\nIngredients:\n\n- [peanut butter (PB)](https://en.wikipedia.org/wiki/Peanut_butter)\n- jelly\n- bread\n\nSteps:\n\n1. Get two slices of bread\n2. Spread PB on one side of one slice of bread\n3. Spread jelly on one side of the other bread slice\n4. Stack the PB slice on top of the jelly slice so that PB and J meet in the middle of the sandwich.\n5. Eat!\n\nI'll split my sandwich into three pieces so that each person can get $1/3$ of the sandwich.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#why-use-quarto-for-reports",
    "href": "Curriculum/Day_1/day_1.html#why-use-quarto-for-reports",
    "title": "Day 1",
    "section": "Why use Quarto for reports?",
    "text": "Why use Quarto for reports?\nQuarto is an ideal platform for building reproducible reports, which are denoted with a .qmd (Quarto Markdown) extension type. Why?\n\nIt allows you to combine narrative text, source code (like R), and the outputs of that code (like tables and figures) into a single, polished document.\nAnyone with the same files can reproduce that document, which goes a long way in promoting scientific integrity.\nYou can produce reports in several formats like HTML, PDF, and Word.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#skeleton-setup",
    "href": "Curriculum/Day_1/day_1.html#skeleton-setup",
    "title": "Day 1",
    "section": "Skeleton setup",
    "text": "Skeleton setup\nWhen you run asar::create_template(), you will receive a ‚Äúreport‚Äù folder with several files within it. One of the most important files is what we call the ‚Äúskeleton‚Äù: a .qmd file containing chunks that run other files, then places the rendered contents of those files within one report.\nThose other files are what we call ‚Äúchild documents‚Äù. For example, your report introduction will be written in a child document. Your figures and tables will be placed in respective child docs, too.\nThis setup avoids placing your entire report in one massive .qmd file, facilitates asynchronous collaboration with your colleagues, and keeps your project organized.\n\nRelative pathnames\n\n\n\n\n\n\nImportant\n\n\n\nOnly files with paths relative to the Quarto doc will load!\n\n\nQuarto projects are self-contained such that it can only find files if you tell it where to look relative to the location of the .qmd file. To Quarto, the location of that .qmd file essentially becomes the root of your directory.\nFor example, imagine your project has this structure:\nreport/\n‚îú‚îÄ‚îÄ SAR_species_skeleton.qmd\n‚îú‚îÄ‚îÄ 01_executive_summary.qmd\n‚îú‚îÄ‚îÄ 02_introduction.qmd\n‚îî‚îÄ‚îÄ extra_data/\n    ‚îî‚îÄ‚îÄ red_fish.csv\n    ‚îî‚îÄ‚îÄ blue_fish.csv\nTo load ‚Äòred_fish.csv‚Äô inside SAR_species_skeleton.qmd, you would use a relative path:\n\nmy_data &lt;- read.csv(\"extra_data/red_fish.csv\")\n\nThis would work even if your working directory is not the ‚Äúreport‚Äù folder.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#yaml",
    "href": "Curriculum/Day_1/day_1.html#yaml",
    "title": "Day 1",
    "section": "YAML",
    "text": "YAML\nThe YAML is the block of text at the very top of your main .qmd file, enclosed by triple dashes (‚Äî). It provides metadata for your document‚Äì i.e., how to build the report.\nCommon settings in the YAML include:\n\ntitle\nauthor\ndate\nformat (For {asar}, this will be PDF or HTML)\n\nHere is an example of an {asar} YAML:\n\n---\ntitle: 'Stock Assessment Report Template'\nauthor:\n  - name: 'FIRST LAST'\n    affiliations: \n      - name: 'NOAA Fisheries' \n        address: 'ADDRESS' \n        city: 'CITY' \n        state: 'STATE' \n        postal-code: 'POSTAL CODE' \ndate: today\nkeep-tex: true \nmainfont: 'Latin Modern Sans' \ncover: \npdf-engine: lualatex\nformat: \n  pdf: \n    documentclass: article\n    papersize: letter\n    number-sections: true\n    template-partials:\n      - 'support_files/before-body.tex'\n      - 'support_files/_titlepage.tex'\n    include-in-header:\n      - 'support_files/in-header.tex'\n    toc: true\n    sansfont: 'Latin Modern Sans'\n    lof: true\n    lot: true\n    titlepage-geometry: \n      - top=2in\n      - bottom=1in\n      - right=1in\n      - left=1in\noutput-file: 'species_SAR_2025' \nparams:\n   office: ''\n   species: 'species'\n   spp_latin: ''\nbibliography:  \n  - asar_references.bib\ncsl: support_files/cjfas.csl\n---\n\nWe will explore the components of the yaml in the Day 2 curriculum.",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/Day_1/day_1.html#code-chunks",
    "href": "Curriculum/Day_1/day_1.html#code-chunks",
    "title": "Day 1",
    "section": "Code Chunks",
    "text": "Code Chunks\nAs we previously mentioned, the beauty of using Quarto is that it allows the user to integrate text and code throughout their reports making them super reproducible.\nThe basics of a code chunk (chunk) are:\n\nthe language (R or python)\nchunk options\ncode\n\nThese three things get wrapped together within two sets of three back ticks (```) to allow a user to run code.\n```{r}\n#| label: ex-chunk\n#| eval: false\n#| warning: false\n#| echo: false\n#| fig-cap: This is my figure caption.\n#| fig-alt: This is my alternative text.\n#| tbl-cap: This is my table caption.\nx &lt;- 1 + 1\n```\nThere are a variety of chunk options, but the ones you will see consistently throughout this workshop are listed in the example above. See more chunk options in the markdown vignette.\n\n\n\n\n\n\nNote\n\n\n\nIn the ‚Äúlabel‚Äù option, for tables and figures, you will need to prefix the label with either ‚Äúfig-‚Äù for a figure or ‚Äútbl-‚Äù for a table.\n\n\nFor those familiar with R markdown, the code chunk structure in R markdown documents will work with Quarto. The main difference is that the chunk options are now brought into the code chunk itself with a ‚Äú#|‚Äù proceeding each option.\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "Day 1: General"
    ]
  },
  {
    "objectID": "Curriculum/snippets/integrate-stockplotr_exercises.html",
    "href": "Curriculum/snippets/integrate-stockplotr_exercises.html",
    "title": "Workflows workshop",
    "section": "",
    "text": "CautionPractice exercises: Add figures/tables and render report\n\n\n\n\n\n\nEnsure that you have a ‚Äòfigures‚Äô folder and a ‚Äòtables‚Äô folder, each with at least one rda file. If you don‚Äôt, export a couple of figures and tables.\n\nHint: ensure that the make_rda argument is set to TRUE when running the {stockplotr} functions that create figures and tables).\n\nOpen up your figures and tables qmds, in the ‚Äòreport‚Äô folder. If these documents do not contain the necessary chunks to import and display at least one plot, rerun create_figures_doc() and/or create_tables_doc() to add code that will plot the figures/tables in your ‚Äòfigures‚Äô and ‚Äòtables‚Äô folders.\n\nHint: ensure that the arguments are correct: subdir and figures_dir (for the figures doc) / tables_dir (for the tables doc)\nHint: This step practices the ‚Äúrda-based workflow‚Äù.\n\nPractice adding a figure with markdown notation by adding the image of a landings figure into the figures doc. The figure is located in the ‚Äòexample_plots‚Äô folder. Set the caption to ‚ÄúHistorical landings by fleet.‚Äù, the alternative text to ‚ÄúCumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.‚Äù, and the figure label to ‚Äúpractice-figure-label‚Äù.\n\nHint: This step practices the ‚Äúdirect image-based workflow‚Äù.\n\nIn the Executive Summary, add a reference to the first figure in your figures qmd file.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Add figures/tables and render report\n\n\n\n\n\n\nPractice adding a figure with markdown notation by adding the image of a landings figure into the figures doc. The figure is located in the ‚Äòexample_plots‚Äô folder. Set the caption to ‚ÄúHistorical landings by fleet.‚Äù, the alternative text to ‚ÄúCumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.‚Äù, and the figure label to ‚Äúpractice-figure-label‚Äù. Hint: This step practices the ‚Äúdirect image-based workflow‚Äù.\n\nAnswer: Add the following chunk to the figures doc:\n\n![Historical landings by fleet.](example_plots/landings_fig_png.png){fig-alt=\"Cumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.\", #practice-figure-label}\n\n\nIn the Executive Summary, add a reference to the first figure in your figures qmd file.\n\nAnswer: If the ‚Äòlabel‚Äô for that first figure is ‚Äòfig-custom1‚Äô, then the in-text reference would be ‚Äò@fig-custom1‚Äô."
  },
  {
    "objectID": "Curriculum/snippets/markdown_exercises.html",
    "href": "Curriculum/snippets/markdown_exercises.html",
    "title": "Workflows workshop",
    "section": "",
    "text": "CautionPractice exercises: Markdown\n\n\n\n\n\n\nCreate a new quarto document\nAdd the following elements:\n\n\nLevel 1 header (call it ‚ÄúSandwiches‚Äù)\nLevel 2 header (call it ‚ÄúMy favorite sandwich‚Äù)\n\n\nUnder heading level 2, add a sentence that describes your favorite sandwich. Italicize ‚Äúfavorite‚Äù and bold the sandwich name.\nAdd an unordered list with the sandwich‚Äôs ingredients.\nAdd an ordered list with the steps needed to make the sandwich.\nFind the first ingredient in the list and add a link to its wikipedia page.\nYour instructors are hungry, and they‚Äôre demanding that you split your sandwich with them. Use an inline mathematical notation to write the fraction necessary to feed the three of you.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Markdown\n\n\n\n\n\n\nCreate a new quarto document\n\nAnswer: Follow directions in the Day 1 ‚ÄúOpening a Document‚Äù section\n\nAdd the following elements:\n\n\nLevel 1 header (call it ‚ÄúSandwiches‚Äù)\nLevel 2 header (call it ‚ÄúMy favorite sandwich‚Äù)\n\n\nUnder heading level 2, add a sentence that describes your favorite sandwich. Italicize ‚Äúfavorite‚Äù and bold the sandwich name.\nAdd an unordered list with the sandwich‚Äôs ingredients.\nAdd an ordered list with the steps needed to make the sandwich.\nFind the first ingredient in the list and add a link to its wikipedia page.\nYour instructors are hungry, and they‚Äôre demanding that you split your sandwich with them. Use an inline mathematical notation to write the fraction necessary to feed the three of you.\n\nAnswers: Add code like the following:\n\n# Sandwiches\n\n## My favorite sandwich\n\nMy *favorite* sandwich is a **peanut butter and jelly sandwich**.\n\nIngredients:\n\n- [peanut butter (PB)](https://en.wikipedia.org/wiki/Peanut_butter)\n- jelly\n- bread\n\nSteps:\n\n1. Get two slices of bread\n2. Spread PB on one side of one slice of bread\n3. Spread jelly on one side of the other bread slice\n4. Stack the PB slice on top of the jelly slice so that PB and J meet in the middle of the sandwich.\n5. Eat!\n\nI'll split my sandwich into three pieces so that each person can get $1/3$ of the sandwich."
  },
  {
    "objectID": "Curriculum/snippets/template_exercises.html",
    "href": "Curriculum/snippets/template_exercises.html",
    "title": "Workflows workshop",
    "section": "",
    "text": "CautionPractice exercises: Foundational create_template() use cases\n\n\n\n\n\n\nRun create_template(). Fill in your own values for office, region, species, spp_latin, and year. Use default values for all remaining arguments.\nWhoops! You forgot to add the report author‚Äôs name and affiliation (yours!). Open the report skeleton and edit the yaml with this information.\nYou realize that your report will frequently reference another species: Patrickicus starrus. Add a new parameter to the report‚Äôs yaml so that you can reference ‚ÄúPatrickicus starrus‚Äù with a simple ‚Äúps‚Äù.\nOpen up the Executive Summary qmd file and add a sentence that references your new parameter.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Foundational create_template() use cases\n\n\n\n\n\n\nRun create_template(). Fill in your own values for office, region, species, spp_latin, and year. Use default values for all remaining arguments.\n\nAnswer: Run code similar to the following, adding in your own values for the arguments below.\n\ncreate_template(\n    office = \"SEFSC\",\n    region = \"Southeast Coast\",\n    species = \"Atlantic Bigeye Tuna\",\n    spp_latin = \"Thunnus obesus\",\n    year = 2026\n)\n\n\nWhoops! You forgot to add the report author‚Äôs name and affiliation (yours!). Open the report skeleton and edit the yaml with this information.\n\nAnswer: Open the .qmd file with ‚Äúskeleton‚Äù in the filename. Edit the yaml‚Äôs ‚Äúauthor‚Äù section to go from something like the first chunk to the second chunk.\n\n# Original yaml snippet (located just beneath the title)\nauthor:\n  - name: 'FIRST LAST'\n    affiliations: \n      - name: 'NOAA Fisheries' \n        address: 'ADDRESS' \n        city: 'CITY' \n        state: 'STATE' \n        postal-code: 'POSTAL CODE' \n\n\n# Updated yaml snippet\nauthor:\n  - name: 'Patrick Star'\n    affiliations:\n      - name: 'NOAA Fisheries Southeast Fisheries Science Center'\n        address: '75 Virginia Beach Drive'\n        city: 'Miami, FL'\n        state: 'FL'\n        postal-code: '33149'\n\n\nYou realize that your report will frequently reference another species: Patrickicus starrus. Add a new parameter to the report‚Äôs yaml so that you can reference ‚ÄúPatrickicus starrus‚Äù with a simple ‚Äúps‚Äù.\n\nAnswer: Open the .qmd file with ‚Äúskeleton‚Äù in the filename. Edit the yaml‚Äôs ‚Äúparams‚Äù section and add the following line:\n\n# Updated yaml snippet\nparams:\n   office: 'SEFSC'\n   species: 'Atlantic Bigeye Tuna'\n   spp_latin: 'Thunnus obesus'\n   region: 'Southeast Coast'\n   ps: 'Patrickicus starrus' # &lt;-- new line\n\n\nOpen up the Executive Summary qmd file and add a sentence that references your new parameter.\n\nAnswer: Open the 01_executive_summary.qmd file and add a line that references the param ‚Äòps‚Äô, like the following:\n\n\"The species `r ps` was abundant throughout the study area.\"\n\nThe sentence will render as such:\n‚ÄúThe species Patrickicus starrus was abundant throughout the study area.‚Äù"
  },
  {
    "objectID": "Curriculum/snippets/figure_table_exercises.html",
    "href": "Curriculum/snippets/figure_table_exercises.html",
    "title": "Workflows workshop",
    "section": "",
    "text": "CautionPractice exercises: Creating {stockplotr} figures & tables\n\n\n\n\n\nFor the following, use stockplotr::example_data as the input data.\n\nCreate an abundance-at-age plot. Export it as an rda to your working directory.\nCreate a recruitment time series plot. Change the unit_label and scale_amount so that the y axis shows recruitment in thousands of fish. Set module = ‚ÄúTIME_SERIES‚Äù.\nCreate a fishing mortality plot. Ensure it does not group by fleet. Set module = ‚ÄúTIME_SERIES‚Äù. Add a reference line (‚Äútarget‚Äù) at 0.5. Convert it from a line plot to a scatterplot.\nCreate a landings table.\n\nNow, use your own data.\n\nConvert your own dataset using convert_output().\nCreate a spawning biomass plot. Change the theme by applying the ggplot2::theme_classic().\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Creating {stockplotr} figures & tables\n\n\n\n\n\nFor the following, use stockplotr::example_data as the input data.\n\nCreate an abundance-at-age plot. Export it as an rda to your working directory.\n\nAnswer:\n\nstockplotr::plot_abundance_at_age(\n  dat = stockplotr::example_data,\n  make_rda = TRUE,\n  figures_dir = getwd()\n)\n\n\nCreate a recruitment time series plot. Change the unit_label and scale_amount so that the y axis shows recruitment in thousands of fish. Set module = ‚ÄúTIME_SERIES‚Äù.\n\nAnswer:\n\nstockplotr::plot_recruitment(\n  dat = stockplotr::example_data,\n  unit_label = \"fish\",\n  scale_amount = 1000,\n  module = \"TIME_SERIES\"\n)\n\n\nCreate a fishing mortality plot. Ensure it does not group by fleet. Set module = ‚ÄúTIME_SERIES‚Äù. Add a reference line (‚Äútarget‚Äù) at 0.5. Convert it from a line plot to a scatterplot.\n\nAnswer:\n\nstockplotr::plot_fishing_mortality(\n  dat = stockplotr::example_data,\n  group = \"none\",\n  module = \"TIME_SERIES\",\n  ref_line = c(\"target\" = 0.5),\n  geom = \"point\"\n)\n\n\nCreate a landings table.\n\nAnswer:\n\nstockplotr::table_landings(\n  dat = stockplotr::example_data\n)\n\nNow, use your own data.\n\nConvert your own dataset using convert_output().\n\nAnswer:\n\nconvert_output(\n  file = \"path/to/your_report_file\"\n  # Specify these arguments if you wish: model, fleet_names,   save_dir\n)\n\n\nCreate a spawning biomass plot. Change the theme by applying the ggplot2::theme_classic().\n\nAnswer:\n\nstockplotr::plot_spawning_biomass(\n  dat = your_converted_data_object\n) +\n  ggplot2::theme_classic()"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Workflows Workshop Home",
    "section": "",
    "text": "Learn how to write semi-automated stock assessment reports!\n\n\nThis repository houses the agenda, materials, and communication for the NOAA Fisheries Stock Assessment Workflows Workshops being held starting in 2026! Please use this README to help navigate within our repository and find out our current progress and plans in real time.\n\n\nCurrently, we are coordinating with our NOAA Fisheries Regional Science Centers to determine the best time to work with our stock assessment scientists and conduct these trainings.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "index.html#note-workshop-preparation-is-in-progress",
    "href": "index.html#note-workshop-preparation-is-in-progress",
    "title": "Workflows Workshop Home",
    "section": "",
    "text": "Currently, we are coordinating with our NOAA Fisheries Regional Science Centers to determine the best time to work with our stock assessment scientists and conduct these trainings.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "index.html#curriculum",
    "href": "index.html#curriculum",
    "title": "Workflows Workshop Home",
    "section": "Curriculum",
    "text": "Curriculum\nThe curriculum is comprised of three days of tutorial-based materials (see the left sidebar for Day 1, Day 2, and Day 3 links). We have dedicated a lot of time to the documentation of {asar} and {stockplotr}, so we encourage everyone to visit these sites prior to the workshop.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "index.html#example",
    "href": "index.html#example",
    "title": "Workflows Workshop Home",
    "section": "Example",
    "text": "Example\nThe ‚Äúexamples‚Äù folder contains multiple examples of reports produced from {asar} and {stockplotr} with varying complexities. Feel free to explore these folders and familiarize yourself with the contents generated from these two packages.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "planning.html",
    "href": "planning.html",
    "title": "To Dos:",
    "section": "",
    "text": "Sophie ‚Äì\n\nCreate day 1 outline (single quarto doc)\n\nSet objectives\nIcebreaker\nmarkdown section (plan demo)\nquarto section (plan demo)\ninstallation section\noverview of workflow/package\n\nCreate day 3 outline (single quarto doc)\n\nSet objectives\nIcebreaker\nasar complex workflow\nintro to stockplotr\nstockplotr demo\n\nContribute to list of good practices (set up doc too)\n\nSam ‚Äì\n\nSet up form or poll to find optional times for setting dates (Tues-Thurs AM or PM) (5 slots + NSAW)\nAsk regional directions for stock assessments to select dates that work best for them (3 week window for voting)\nMake website landing page\n\n\n\n\nSophie ‚Äì\n\nMake asar cheatsheet\nCreate advertisement flier for workshops (save the date once we know)\nFill in outline of content for Day 1\nFill in outline of content for Day 3\n\nSam ‚Äì\n\nCreate day 2 outline (single quarto doc)\n\nSet objectives\nIcebreaker\nMaking R project/getting set up\nasar basic functions\nasar basic workflow\nquarto render\nreport workflow (post create_template)\n\nContribute to list of good practices\nFill in outline of content for Day 3\n\n\n\n\nSophie ‚Äì\n\nWhat type of advertising - how and where\n\nSam ‚Äì\n\nDesign condensed presentation and workshop for NSAW\nDraft & send gchat spam for workshops and emails\nSet dates and times for each region and send out calendar invites\nFill in outline of content for Day 2\n\n\n\n\nSophie ‚Äì\n\nFind and select installation helpers for workshop (Early Nov.¬†Elizabeth & Kathryn?)\nMake meetings with install helpers (Early Nov.¬†Elizabeth & Kathryn?)\nUpdate jupyterhub (assure recent installs of packages and dependencies)\nMake visual diagram for Day 1\n\nSam ‚Äì\n\nMake stockplotr cheatsheet\nMake visual diagram for Day 2\nMake visual diagram for Day 3\n\nGroup ‚Äì\n\ntailor and finish workshop materials\n\n\n\n\n\nMake handouts for sharing\nSet up feedback response sheet/questions from attendees\nSet up communal docs notes template\nDetermine timing and breaks\n\nSam:\n\nPrepare demo folder with asar materials (script, report folder, images, plots, ect.)\n\nGoal: Finish by November (before holidays) Final details goal: Finish by end of December\n\n\n\n\nPractice"
  },
  {
    "objectID": "planning.html#august",
    "href": "planning.html#august",
    "title": "To Dos:",
    "section": "",
    "text": "Sophie ‚Äì\n\nCreate day 1 outline (single quarto doc)\n\nSet objectives\nIcebreaker\nmarkdown section (plan demo)\nquarto section (plan demo)\ninstallation section\noverview of workflow/package\n\nCreate day 3 outline (single quarto doc)\n\nSet objectives\nIcebreaker\nasar complex workflow\nintro to stockplotr\nstockplotr demo\n\nContribute to list of good practices (set up doc too)\n\nSam ‚Äì\n\nSet up form or poll to find optional times for setting dates (Tues-Thurs AM or PM) (5 slots + NSAW)\nAsk regional directions for stock assessments to select dates that work best for them (3 week window for voting)\nMake website landing page"
  },
  {
    "objectID": "planning.html#september",
    "href": "planning.html#september",
    "title": "To Dos:",
    "section": "",
    "text": "Sophie ‚Äì\n\nMake asar cheatsheet\nCreate advertisement flier for workshops (save the date once we know)\nFill in outline of content for Day 1\nFill in outline of content for Day 3\n\nSam ‚Äì\n\nCreate day 2 outline (single quarto doc)\n\nSet objectives\nIcebreaker\nMaking R project/getting set up\nasar basic functions\nasar basic workflow\nquarto render\nreport workflow (post create_template)\n\nContribute to list of good practices\nFill in outline of content for Day 3"
  },
  {
    "objectID": "planning.html#october",
    "href": "planning.html#october",
    "title": "To Dos:",
    "section": "",
    "text": "Sophie ‚Äì\n\nWhat type of advertising - how and where\n\nSam ‚Äì\n\nDesign condensed presentation and workshop for NSAW\nDraft & send gchat spam for workshops and emails\nSet dates and times for each region and send out calendar invites\nFill in outline of content for Day 2"
  },
  {
    "objectID": "planning.html#november",
    "href": "planning.html#november",
    "title": "To Dos:",
    "section": "",
    "text": "Sophie ‚Äì\n\nFind and select installation helpers for workshop (Early Nov.¬†Elizabeth & Kathryn?)\nMake meetings with install helpers (Early Nov.¬†Elizabeth & Kathryn?)\nUpdate jupyterhub (assure recent installs of packages and dependencies)\nMake visual diagram for Day 1\n\nSam ‚Äì\n\nMake stockplotr cheatsheet\nMake visual diagram for Day 2\nMake visual diagram for Day 3\n\nGroup ‚Äì\n\ntailor and finish workshop materials"
  },
  {
    "objectID": "planning.html#december",
    "href": "planning.html#december",
    "title": "To Dos:",
    "section": "",
    "text": "Make handouts for sharing\nSet up feedback response sheet/questions from attendees\nSet up communal docs notes template\nDetermine timing and breaks\n\nSam:\n\nPrepare demo folder with asar materials (script, report folder, images, plots, ect.)\n\nGoal: Finish by November (before holidays) Final details goal: Finish by end of December"
  },
  {
    "objectID": "planning.html#january",
    "href": "planning.html#january",
    "title": "To Dos:",
    "section": "",
    "text": "Practice"
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html",
    "href": "Curriculum/Day_2/day_2.html",
    "title": "Day 2",
    "section": "",
    "text": "Learn the basics of creating a stock assessment report using {asar}\nUnderstand the complexities and customization options of the package\nPractice using {asar} and ask questions",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#icebreaker",
    "href": "Curriculum/Day_2/day_2.html#icebreaker",
    "title": "Day 2",
    "section": "Icebreaker",
    "text": "Icebreaker\nWelcome! Please open the Day 2 communal notes doc and participate in the icebreaker exercise.",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#code-of-conduct",
    "href": "Curriculum/Day_2/day_2.html#code-of-conduct",
    "title": "Day 2",
    "section": "Code of conduct",
    "text": "Code of conduct\nEveryone participating in this workshop is required to abide by the terms of our Code of Conduct. We encourage you to contribute to a positive environment for our community by:\n\nDemonstrating empathy and kindness toward other people\nBeing respectful of differing opinions, viewpoints, and experiences\nGiving and gracefully accepting constructive feedback\nAccepting responsibility and apologizing to those affected by our mistakes, and learning from the experience\nFocusing on what is best not just for us as individuals, but for the overall community\n\nIf you believe that someone is in violation of the Code of Conduct, please report the incident to the workshop instructors and/or the community leaders responsible for enforcement using this form.",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#materials-for-todays-lesson",
    "href": "Curriculum/Day_2/day_2.html#materials-for-todays-lesson",
    "title": "Day 2",
    "section": "Materials for today‚Äôs lesson",
    "text": "Materials for today‚Äôs lesson\n\nDay 2 communal notes doc\n\nContains resources (from us and you!) and areas for note-taking\n\nSample data\n\nSample model output data for coding demonstrations",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#how-to-engage-with-us",
    "href": "Curriculum/Day_2/day_2.html#how-to-engage-with-us",
    "title": "Day 2",
    "section": "How to engage with us",
    "text": "How to engage with us\nQuestions: Please raise your hand, or write your question in the chat, at any time. Depending on our schedule, we may ask that you save larger questions for breaks.\n\n\n\n\n\n\nYou probably have some questions lingering from yesterday. Let us answer them for you!",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#installation",
    "href": "Curriculum/Day_2/day_2.html#installation",
    "title": "Day 2",
    "section": "Installation",
    "text": "Installation\n{asar} should already be installed if you attended Day 1. If not, please install this package by following the instructions in the pre-workshop checklist.\n\n\n\n\n\n\nNote\n\n\n\nIf you receive an error message when attempting the download the package, please ask the instructor for alternative directions or see the README on the {asar} repository.",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#overview-of-asar-based-reporting-workflow",
    "href": "Curriculum/Day_2/day_2.html#overview-of-asar-based-reporting-workflow",
    "title": "Day 2",
    "section": "Overview of {asar}-based reporting workflow",
    "text": "Overview of {asar}-based reporting workflow\nMain steps for creating a stock assessment report with {asar}:\n\nInstall packages\nConvert model output into format usable by {asar}\nCreate the report skeleton\nMake child docs containing figures and tables (made with {stockplotr} or by other means)\nFill in child docs with text\nRender report\nAdd accessibility features (PDF tags and alternative text for figures)\n\n\n\n\n\n\n\nTip\n\n\n\nOpen the {asar} cheatsheet for a visual overview of the main workflow!",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#recommended-workflow",
    "href": "Curriculum/Day_2/day_2.html#recommended-workflow",
    "title": "Day 2",
    "section": "Recommended workflow",
    "text": "Recommended workflow\nWe highly recommend using a project-based workflow. This involves creating an R project for each report, which facilitates returning to your session and maintaining files. Using either a project or GitHub repository will help you in the long run.\nTo create a new R project in Rstudio:\nFile &gt; New Project &gt; New or Existing Directory\n\n\n\n\n\n\nImportant\n\n\n\nIf you use VSCode or Positron for your IDE, by navigating to a folder on your computer, it will automatically initialize a project-like environment.",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#the-main-functions",
    "href": "Curriculum/Day_2/day_2.html#the-main-functions",
    "title": "Day 2",
    "section": "The main functions",
    "text": "The main functions\n{asar} revolves around a few primary functions and contains several support functions that help make the template. While most are accessible to the user, they would not perform helpful functions for them. Today, we will focus on the following functions:\n\nasar::create_template()\nstockplotr::convert_output() (This function is now located within {stockplotr} but is useful for building {asar} reports)\n\n** Time to browse documentation? or show info from site? **\n\nasar::create_template()\nWhat it does:\nGenerates a set of files that setup a stock assessment report with its supporting files.\nWithin the created files is the ‚Äúskeleton file‚Äù which drives the render of the entire report. For those familiar with Rmarkdown or Quarto books, this is operating similar to a .yml file. The other Quarto files found in your folder will be what we refer to as ‚Äúchild documents‚Äù, or child docs for short. These are the actual files that you will fill in when writing your report. These are the bulk of your content!\nTry it out!\ncreate_template() contains A LOT of arguments that allow the user to customize their document how they want. The function contains a set of defaults that would produce a template that could be rendered, but contains no real information relevant to the target stock.\nSo, let‚Äôs do more than just create a blank template! The following arguments are some key parts to fill in for a specific stock assessment report:\n\n\n\nArgument\nOptions\n\n\n\n\nformat\npdf, html\n\n\ntype\nSAR, pfmc, safe, nemt\n\n\noffice\nafsc, pifsc, nefsc, nwfsc sefsc, swfsc\n\n\nregion\n-\n\n\nspecies\n-\n\n\nspp_latin\n-\n\n\nyear\n-\n\n\nauthors\n-\n\n\nfile_dir\n-\n\n\n\n\n# Adjust below example based on audience\nlibrary(asar)\nlibrary(here)\ncreate_template(\n  format = \"pdf\", # optional \"html\"\n  type = \"SAR\", # add'l options: \"safe\", \"nemt\", \"pfmc\"\n  office = \"NWFSC\",\n  region = \"U.S. West Coast\",\n  species = \"Petrale sole\",\n  spp_latin = \"Eopsetta jordani\",\n  authors = c(\"Samantha Schiano\" = \"OST\", \"Jane Doe\"=\"SWFSC-LJCA\"),\n  file_dir = getwd() # folder where the \"report\" folder will be saved\n)\n\nRun it!\nYou should see a folder called ‚Äúreport‚Äù where you indicated in the argument file_dir. It should have a set up that looks like this:\n\n\n\nThe contents of an asar-generated template found in the report folder.\n\n\n\n\n\n\n\n\nNote\n\n\n\nYou should see a variety of messages reported in the console to indicate that it worked! For a blank template with no errors, it should look like this:\n\n\n\n\n\n\n\n\n\nBreak for questions\n\n\n\n\nLet‚Äôs take a tour of the content we created!\n\nThe skeleton\n\n\n\nDiagram showing different blocks of content found in the Quarto yaml within the skeleton.qmd file.\n\n\nAs previously mentioned, the skeleton file controls the rest of the report. This is the file you go to to compile your report, change formatting, or add quantities to reference in your document.\nWe went over the basics of a Quarto yaml in Day 1, but when using {asar}, you don‚Äôt actually have to fill in anything yourself. The beauty of using {asar} is that it removes this task, but filling out information provided in the create_template() arguments and providing the template custom formatting that is part of the package (and the NOAA standard!).\n\n\n\n\n\n\nNote\n\n\n\nYou shouldn‚Äôt have to adjust the yaml much, if at all. However, if your species does not match with an image in our database, then you can edit the yaml to add a filepath leading to your own cover image.\n\n\n\n\n\nasar yaml controlling formatting and basic document information.\n\n\nThe YAML controls the following:\n\ntitle\nauthorship\nformatting\nrendered file name\nparameters\nspecies cover image\nbibliography\ncitation style\n\n\n\nParameterization\nQuarto has a cool feature that allows users to parameterize their document by utilizing markdown‚Äôs ability to render in-line code throughout your writing. In the yaml, there are pre-added parameters of the species, Latin name, region, and office. These are called in through an R chunk after the YAML.\nYou have two options for calling these parameters in your writing.\n\n` r params$species ` (Quarto parameterization)\n` r species ` ({asar} use of parameterization)\n\n\n\nThe preamble\nThe preamble is an R chunk that loads in a script called ‚Äúpreamble.R‚Äù which extracts key quantities commonly referenced in stock assessment reports. This will only work with a standard results file converted using asar::convert_output(), which we will get to shortly.\n\n\n\nA screenshot showing lines of code in an R chunk within the skeleton file containing various quantities pulled from the preamble.R script.\n\n\nThe quantities in found in this chunk can be referenced in-line throughout the document:\n` r R0 `\n\n\n\n\n\n\nNote\n\n\n\nFor more information on markdown notation, see Day 1 of this workshop or navigate to our article on the topic!\n\n\nLet‚Äôs find the preamble and see the methods to edit it\n\n\nThe content\nThe ‚Äúchild docs‚Äù are where you as the assessment author or contributor report out the information you need to include. The template is highly modular so there are files for each section of the report and sometimes files for subsections. The default {asar} template creates child docs following the NOAA standard stock assessment report guidelines consisting of the following:\n\nexecutive summary\nintroduction\ndata\nassessment (modelling and results)\ndiscussion\nacknowledgements\nreferences\ntables\nfigures\nappendix\n\nEach child doc contains pre-determined headers and labels for the author to reference back to throughout the document. There are also descriptions within each section that depcit what you should report on throughout the document. You can either keep or remove these notes once the document is finished, either way, they will not be included in your final report.\nChild docs are not intended to be rendered on their own, but only from the skeleton as a whole!\n\n\n\n\n\n\nImportant\n\n\n\nWe are advising everyone that if required content is needed beyond the standard guidelines, that it gets placed in the appendix; however we encourage everyone to think about the importance of the content in terms of review for management versus CIE or SSC review.\n\n\nDemo of child docs and adding quantities from the preamble into your document\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Foundational create_template() use cases\n\n\n\n\n\n\nRun create_template(). Fill in your own values for office, region, species, spp_latin, and year. Use default values for all remaining arguments.\nWhoops! You forgot to add the report author‚Äôs name and affiliation (yours!). Open the report skeleton and edit the yaml with this information.\nYou realize that your report will frequently reference another species: Patrickicus starrus. Add a new parameter to the report‚Äôs yaml so that you can reference ‚ÄúPatrickicus starrus‚Äù with a simple ‚Äúps‚Äù.\nOpen up the Executive Summary qmd file and add a sentence that references your new parameter.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Foundational create_template() use cases\n\n\n\n\n\n\nRun create_template(). Fill in your own values for office, region, species, spp_latin, and year. Use default values for all remaining arguments.\n\nAnswer: Run code similar to the following, adding in your own values for the arguments below.\n\ncreate_template(\n    office = \"SEFSC\",\n    region = \"Southeast Coast\",\n    species = \"Atlantic Bigeye Tuna\",\n    spp_latin = \"Thunnus obesus\",\n    year = 2026\n)\n\n\nWhoops! You forgot to add the report author‚Äôs name and affiliation (yours!). Open the report skeleton and edit the yaml with this information.\n\nAnswer: Open the .qmd file with ‚Äúskeleton‚Äù in the filename. Edit the yaml‚Äôs ‚Äúauthor‚Äù section to go from something like the first chunk to the second chunk.\n\n# Original yaml snippet (located just beneath the title)\nauthor:\n  - name: 'FIRST LAST'\n    affiliations: \n      - name: 'NOAA Fisheries' \n        address: 'ADDRESS' \n        city: 'CITY' \n        state: 'STATE' \n        postal-code: 'POSTAL CODE' \n\n\n# Updated yaml snippet\nauthor:\n  - name: 'Patrick Star'\n    affiliations:\n      - name: 'NOAA Fisheries Southeast Fisheries Science Center'\n        address: '75 Virginia Beach Drive'\n        city: 'Miami, FL'\n        state: 'FL'\n        postal-code: '33149'\n\n\nYou realize that your report will frequently reference another species: Patrickicus starrus. Add a new parameter to the report‚Äôs yaml so that you can reference ‚ÄúPatrickicus starrus‚Äù with a simple ‚Äúps‚Äù.\n\nAnswer: Open the .qmd file with ‚Äúskeleton‚Äù in the filename. Edit the yaml‚Äôs ‚Äúparams‚Äù section and add the following line:\n\n# Updated yaml snippet\nparams:\n   office: 'SEFSC'\n   species: 'Atlantic Bigeye Tuna'\n   spp_latin: 'Thunnus obesus'\n   region: 'Southeast Coast'\n   ps: 'Patrickicus starrus' # &lt;-- new line\n\n\nOpen up the Executive Summary qmd file and add a sentence that references your new parameter.\n\nAnswer: Open the 01_executive_summary.qmd file and add a line that references the param ‚Äòps‚Äô, like the following:\n\n\"The species `r ps` was abundant throughout the study area.\"\n\nThe sentence will render as such:\n‚ÄúThe species Patrickicus starrus was abundant throughout the study area.‚Äù\n\n\n\n\n\n\n\nstockplotr::convert_output()\nWhat it does:\nThis function, which was formerly located within {asar} but has been moved to {stockplotr}, converts an output file from a stock assessment model to a standard format. This file can be used to extract quantities within the preamble and to build figures and tables with {stockplotr} (covered in Day 3).\nThe convert_output function currently accepts output from Stock Synthesis (Report.sso) version 3.30 and higher, Beaufort Assessment Model (BAM; output.rda), or Fisheries Integrated Modelling System (FIMS; R object). We are actively working on expanding the convert_output function to be compatible with all major U.S. stock assessment models. This function takes a lot of resources to develop, so any contribution to the package is welcome! If you have a model that is not currently compatible with stockplotr::convert_output(), please navigate to our article describing the function and how to get your output in the same format as those produced from the converter!\nLet‚Äôs try it out!\nWe have uploaded an example Report.sso file in the workshop GitHub, but if you have a compatible output file, we encourage you to use your own.\n\n# Identify output file\noutput_file &lt;- file.path(\"example_output\", \"Report.sso\")\n# convert the output\npetrale &lt;- stockplotr::convert_output(output_file)\n\nRun it!\n\npetrale\n\n\n\n\nA screenshot of the first 8 columns and 10 rows of data from a standard output tibble converted from a stock synthesis Report.sso file.\n\n\n\n\n\n\n\n\nTip\n\n\n\nconvert_output() will recognize which model the results file came from as well as fleet names. In the rare case either of these are incorrect, the function contains arguments of model and fleet_names which you as the user can indicate for the function.\nIf you are explicitly stating fleet names, make sure they are in the order you expect them to be found in the file.\n\n\n\nFormat of converted output\nThe converted output is a tibble that reframes and reshapes your data. The tibble contains each output value as a row with its error and any associated indexing values.\n\n\n\n\n\n\nNote\n\n\n\nLet‚Äôs walk through a standard output file in more detail.\n\n\n\n\n\n\n\n\nNote\n\n\n\nFor more information, navigate to this article describing the conversion process and find ways your can convert your model‚Äôs data!\n\n\n\n\n\n\n\n\n20 minute break for questions & practicing",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_2/day_2.html#advanced-asar-workflow",
    "href": "Curriculum/Day_2/day_2.html#advanced-asar-workflow",
    "title": "Day 2",
    "section": "Advanced {asar} workflow",
    "text": "Advanced {asar} workflow\nNow we are going to walk-through a more complex use of {asar} by\n\nAdding additional parameters\nCustomizing our sections\nReorganizing section order\nCalling a previous report and editing\n\n\nCreate-your-own\nThere are three additional template options available to users to use while we work to set standard assessment report guidelines across the country. They include SAFE reports, NEFSC management track reports, and PFMC guidelines. Not only thing, but you have the ability to add new sections either within the current outline or in individual sections or even select which sections of the standard template you want to create your report around.\nToday, we will be going over how to customize your template by selecting a subset of the standard guidelines then adding in a new section within our data section.\nFirst, let‚Äôs make our template.\nWe are creating a new report, so please set your working directory to a new folder or rename our previous ‚Äúsimple‚Äù report folder to ‚Äúsimple_report‚Äù or something along those lines.\n\nasar::create_template(\n  # Previous arguments we used for simple\n  format = \"pdf\",\n  type = \"SAR\",\n  office = \"NWFSC\",\n  region = \"U.S. West Coast\",\n  species = \"Petrale sole\",\n  spp_latin = \"Eopsetta jordani\",\n  authors = c(\"Samantha Schiano\" = \"OST\"),\n  # New arguments\n  custom = TRUE,\n  custom_sections = NULL,\n  new_section = NULL,\n  section_location = NULL\n)\n\n\n\n\n\n\n\nTip\n\n\n\nTo identify what sections you can include from the standard guidelines, you can run list.files(system.file(\"templates\", \"skeleton\", package = \"asar\")). Note: this only includes sections within a standard template. To see other sections for available templates, replace ‚Äúskeleton‚Äù with your target template acronym.\nDon‚Äôt worry if you forget! You can find this code in the documentation for the ‚Äúcustom_sections‚Äù argument.\n\n\n\n\n\n\n\n\nBreak for questions\n\n\n\n\n\nRerendering report\nWe understand that it‚Äôs easy to forget to enter in all of the information you need for a report on it‚Äôs initial creation! Because of this, we made the argument ‚Äúrerender_skeleton‚Äù that adds on any new information to the skeleton file that you might want such as additional authors, a new species image, parameters, or anything that is open for you to customize in the skeleton file.\nYou COULD do this manually, but using the function both allows you to create a record of your changes (making it more reproducible) and makes the Quarto yaml less intimidating to new users!\n\n\n\n\n\n\nNote\n\n\n\nYou can run re-render skeleton as often as you want, it will always edit the current skeleton in the folder. Please note: any additional skeleton files will make this process fail. The process will also verify that you want to overwrite the current skeleton and either keep or replace the key quantities file.\n\n\n\nOur changes: new parameters, additional author, and a new section\nLet‚Äôs add some more parameters to our script which will allow us to references in-text throughout the document.\n\nasar::create_template(\n  rerender_skeleton = TRUE,\n  parameters = TRUE,\n  param_names = c(\"fleet_a\", \"fleet_b\"),\n  param_values = c(\"a long fleet name\", \"b long fleet name\")\n)\n\nNow, I need to add my co-authors to my report especially since I wasn‚Äôt sure who was going to be working on it at the time I created my report template. After review of our terms of reference, I noticed that I needed a section to document my changes to the model, so let‚Äôs add that in too.\n\nasar::create_template(\n  rerender_skeleton = TRUE,\n  authors = c(\"John Doe\"=\"NEFSC\", \"Jane Doe\"),\n  custom = TRUE,\n  new_section = \"Changes to the Model\",\n  section_location = \"in-assessment\"\n)\n\n\n\n\n\n\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Advanced create_template() use cases\n\n\n\n\n\n\nCreate a stock assessment report template tailored for the AFSC (a SAFE report).\nCreate a stock assessment report template with two main sections: an executive summary and an introduction (the following sections will be added automatically: acknowledgments, references, tables, figures).\nWhoops! You forgot to add your species name, and now you don‚Äôt have a cover image. Run create_template() with the argument rerender_skeleton = TRUE, and add your species name (common and scientific names) as two additional arguments: ‚ÄúPetrale sole‚Äù (Eopsetta jordani).\n\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Advanced create_template() use cases\n\n\n\n\n\n\nCreate a stock assessment report template tailored for the AFSC (a SAFE report).\n\nAnswer:\n\nasar::create_template(\n  type = \"safe\"\n)\n\n\n\n\n\n\n\nCreate a stock assessment report template with two main sections: an executive summary and an introduction (the following sections will be added automatically: acknowledgments, references, tables, figures).\n\nAnswer:\n\nasar::create_template(\n    authors = c(\"Samantha Schiano\" = \"OST\"),\n    custom = TRUE,\n    custom_sections = c(\"executive_summary\", \"introduction\")\n)\n\n\nWhoops! You forgot to add your species name, and now you don‚Äôt have a cover image. Run create_template() with the argument rerender_skeleton = TRUE, and add your species name (common and scientific names) as two additional arguments: ‚ÄúPetrale sole‚Äù (Eopsetta jordani).\n\nAnswer:\n\nasar::create_template(\n  rerender_skeleton = TRUE,\n  species = \"Petrale sole\",\n  spp_latin = \"Eopsetta jordani\",\n  file_dir = file.path(\"report\")\n)",
    "crumbs": [
      "Day 2: asar"
    ]
  },
  {
    "objectID": "Curriculum/snippets/a11y_exercises.html",
    "href": "Curriculum/snippets/a11y_exercises.html",
    "title": "Workflows workshop",
    "section": "",
    "text": "CautionPractice exercises: Adding accessibility features\n\n\n\n\n\n\nIf you haven‚Äôt already, add tags to your pdf by running add_tagging() with the appropriate arguments (including compile set to TRUE). Then, open up the report and ensure it was tagged.\nOpen up the ‚Äúcaptions_alt_text.csv‚Äù file that contains your alternative text and captions. Find the rows that are linked with the figures and tables in your report.\n\nRead through the captions and alternative text. Edit inaccuracies if necessary.\nFor figures, add a sentence or two describing the final ingredient for a solid alternative text: the relationship between the variables shown (i.e., what the figure is conveying).\nIf you‚Äôve created custom figures/tables, create new rows for each. Add captions for all, and alternative text for just figures. Ensure that the label matches the chunk label.\n\nRun add_alttext() with compile set to TRUE. Then, open up the report and ensure the images contain alt text."
  },
  {
    "objectID": "Curriculum/snippets/filter-std-output.html",
    "href": "Curriculum/snippets/filter-std-output.html",
    "title": "Workflows workshop",
    "section": "",
    "text": "CautionPractice exercises: Get familiar with standard output\n\n\n\n\n\n\nFilter the output data for spawning biomass that only includes years 2000 to 2020.\nExtract the SBmsy reference point from the output data.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Get familiar with standard output\n\n\n\n\n\n\nFilter the output data for spawning biomass that only includes years 2000 to 2020.\n\nAnswer: Use the dplyr filtering functions or other subsetting function to filter the data.\n\nfiltered_data &lt;- petrale |&gt;\n  dplyr::filter(\n    grepl(\"^spawning_biomass$\", label),\n    year &gt; 2000,\n    year &lt; 2020\n  )\n\n\n\n\n\n\n\nNote\n\n\n\nNotice that there are multiple time series of spawning biomass. This is because the original model output reports these values in different modules. We maintained the integrity of the original model output by keeping all of these time series. You may want to further filter the data to only include spawning biomass from a specific module.\n\n\n\nExtract the SBmsy reference point from the output data..\n\nAnswer: Filter your initial converted data by label name where you can either use ‚Äúmsy‚Äù or ‚Äúspawning_biomass_msy‚Äù. All quantities are spelled out except for msy or spr.\n\nSBmsy &lt;- petrale |&gt;\n  dplyr::filter(\n    grepl(\"^spawning_biomass_msy$\", label)\n  ) |&gt;\n  dplyr::pull(estimate)"
  },
  {
    "objectID": "Curriculum/snippets/complex_asar_exercises.html",
    "href": "Curriculum/snippets/complex_asar_exercises.html",
    "title": "Workflows workshop",
    "section": "",
    "text": "CautionPractice exercises: Advanced create_template() use cases\n\n\n\n\n\n\nCreate a stock assessment report template tailored for the AFSC (a SAFE report).\nCreate a stock assessment report template with two main sections: an executive summary and an introduction (the following sections will be added automatically: acknowledgments, references, tables, figures).\nWhoops! You forgot to add your species name, and now you don‚Äôt have a cover image. Run create_template() with the argument rerender_skeleton = TRUE, and add your species name (common and scientific names) as two additional arguments: ‚ÄúPetrale sole‚Äù (Eopsetta jordani).\n\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Advanced create_template() use cases\n\n\n\n\n\n\nCreate a stock assessment report template tailored for the AFSC (a SAFE report).\n\nAnswer:\n\nasar::create_template(\n  type = \"safe\"\n)\n\n\n\n\n\n\n\nCreate a stock assessment report template with two main sections: an executive summary and an introduction (the following sections will be added automatically: acknowledgments, references, tables, figures).\n\nAnswer:\n\nasar::create_template(\n    authors = c(\"Samantha Schiano\" = \"OST\"),\n    custom = TRUE,\n    custom_sections = c(\"executive_summary\", \"introduction\")\n)\n\n\nWhoops! You forgot to add your species name, and now you don‚Äôt have a cover image. Run create_template() with the argument rerender_skeleton = TRUE, and add your species name (common and scientific names) as two additional arguments: ‚ÄúPetrale sole‚Äù (Eopsetta jordani).\n\nAnswer:\n\nasar::create_template(\n  rerender_skeleton = TRUE,\n  species = \"Petrale sole\",\n  spp_latin = \"Eopsetta jordani\",\n  file_dir = file.path(\"report\")\n)"
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html",
    "href": "Curriculum/Day_3/day_3.html",
    "title": "Day 3",
    "section": "",
    "text": "Walk through an example of a plot and table from {stockplotr}\nLearn about the value of the {stockplotr} R package\nUnderstand how to integrate {stockplotr} into an {asar}-based reporting workflow",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#icebreaker",
    "href": "Curriculum/Day_3/day_3.html#icebreaker",
    "title": "Day 3",
    "section": "Icebreaker",
    "text": "Icebreaker\nWelcome! Please open the Day 3 communal notes doc and participate in the icebreaker exercise.\n\n\n\n\n\n\nTip\n\n\n\nReminder: For comments or questions, please raise your hand, or write them in the chat, at any time. Depending on our schedule, we may ask that you save larger questions for breaks.\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#materials-for-todays-lesson",
    "href": "Curriculum/Day_3/day_3.html#materials-for-todays-lesson",
    "title": "Day 3",
    "section": "Materials for today‚Äôs lesson",
    "text": "Materials for today‚Äôs lesson\n\nDay 3 communal notes doc\n\nContains resources (from us and you!) and areas for note-taking\n\nSample data\n\nSample model output data for coding demonstrations\n\nExample figure\n\nExample figure for coding demonstration",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#installation",
    "href": "Curriculum/Day_3/day_3.html#installation",
    "title": "Day 3",
    "section": "Installation",
    "text": "Installation\n{asar}, {stockplotr}, and {tinytex} should already be installed if you attended Days 1 or 2. If not, please install these packages by following the instructions in the pre-workshop checklist.",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#convert-output-if-necessary",
    "href": "Curriculum/Day_3/day_3.html#convert-output-if-necessary",
    "title": "Day 3",
    "section": "Convert output (if necessary)",
    "text": "Convert output (if necessary)\nFirst, you‚Äôll need to convert your model results using the same workflow covered yesterday: stockplotr::convert_output().\nYou can use the example Report.sso file uploaded to the workshop GitHub or, if you have a compatible output file, your own.\n\n# Identify output file\noutput_file &lt;- file.path(\"example_output\", \"Report.sso\")\n# convert the output and save it as an rda\npetrale &lt;- stockplotr::convert_output(output_file,\n                                      save_dir = getwd())\n\nIf you have already converted your output: great! Import it into your R environment so that you can handle it as an object like ‚Äúpetrale‚Äù in the chunk above.\n\n\n\n\n\n\nBreak for issues",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#package-information",
    "href": "Curriculum/Day_3/day_3.html#package-information",
    "title": "Day 3",
    "section": "Package information",
    "text": "Package information\nThis package is an ongoing process to gather contributions in order to expand the number of pre-made tables and figures that can be incorporated into a stock assessment report. All objects are intended to be generalized and not specific to any region.\n{stockplotr} also contains convert_output(): the function used to convert model results into a standardized output (as explained in a previous section). This standardized output is the input for the {stockplotr} plotting functions, below (the dat argument).\nThe following table contains figures and tables that are available in {stockplotr}:\n\n\n\n\n\n\n\nFunction\nDescription\n\n\n\n\nplot_abundance_at_age()\nabundance-at-age\n\n\nplot_biomass_at_age()\nbiomass-at-age\n\n\nplot_biomass()\nbiomass time series\n\n\nplot_catch_comp()\ncatch compositions\n\n\nplot_fishing_mortality\nfishing mortality time series\n\n\nplot_indices()\nindices\n\n\nplot_landings()\nlandings time series\n\n\nplot_natural_mortality()\nnatural mortality time series or at-age\n\n\nplot_recruitment_deviations()\nrecruitment deviations\n\n\nplot_recruitment()\nrecruitment time series\n\n\nplot_spawn_recruitment()\nspawn recruitment relationship\n\n\nplot_spawning_biomass()\nspawning biomass time series\n\n\ntable_landings()\nlandings time series by fleet or other indexing\n\n\ntable_bnc()\nbiomass, landings, and catch time series\n\n\ntable_harvest_projection()\nharvest projection table according to SAFE standards (to be expanded nationally)\n\n\ntables_indices()\nindices by fleet\n\n\n\nEach automated function returns either a ggplot2 object (figure) or gt object (table). This allows for further customization of the output if desired by using the notation you are familiar with. For a figure, you can continue to add onto the plot any other ggplot2 function or extension using the plus (+) operator. For a table, please use the native pipe (|&gt;) when adding additional formatting, rows, or other pieces to the object.",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#example-figure",
    "href": "Curriculum/Day_3/day_3.html#example-figure",
    "title": "Day 3",
    "section": "Example Figure",
    "text": "Example Figure\nRun the example below. It should result in a line graph showing biomass over time, including a reference line for the biomass unfished.\n\nstockplotr::plot_biomass(\n  dat = petrale, # dataset\n  geom = \"line\", # show a line graph\n  group = NULL, # don't group by sex, fleet, etc.\n  facet = NULL, # not faceting by any variable\n  ref_line = \"unfished\", # set reference line at unfished\n  unit_label = \"mt\", # unit label: metric tons\n  scale_amount = 1, # do not scale biomass\n  relative = FALSE, # show biomass, NOT relative biomass\n  interactive = TRUE, # prompt user for MODULE_NAME in console\n  module = NULL # MODULE_NAME not specified here\n)\n\n\n\n\n\n\n\n\nBreak for questions\n\n\n\n\nCustomizing\nAll figures will automatically identify any indexing variables in the data such as fleet, area, or sex. You can use the group and facet arguments to modify how these indexing variables are displayed in the figure. You can also modify other arguments such as geom, ref_line, and relative to change the appearance of the figure.\nHere are some examples of how to customize the biomass figure:\n\nChange the reference line to a specific value (e.g., 260)\nIn this example we are also telling the function which module to select in order to by-pass this step. We plan to remove grouping of some modules in the future.\n\nstockplotr::plot_biomass(\n  dat = petrale,\n  geom = \"line\",\n  group = NULL,\n  facet = NULL,\n  ref_line = c(\"target\" = 260), # changed from \"unfished\"\n  unit_label = \"mt\",\n  scale_amount = 1,\n  relative = FALSE,\n  interactive = FALSE, # changed from TRUE\n  module = \"TIME_SERIES\" # indicate module name here\n)\n\n\n\n\nPlot relative biomass and change the size of the line\nIn this example, we still are bypassing module selection and we are automatically extracting the reference line value from the data. However, now we are using this reference value to plot relative biomass and changing the linewidth to 2 (an argument inherited from ggplot2::geom_line()).\n\n\n\n\n\n\nNote\n\n\n\nIf you were plotting a scatterplot (geom = 'point') or area plot (geom = 'area'), you could add arguments associated with geom_point() and geom_area(), respectively.\n\n\n\nstockplotr::plot_biomass(\n  dat = petrale,\n  geom = \"line\",\n  group = NULL,\n  facet = NULL,\n  ref_line = c(\"target\" = 260),\n  unit_label = \"mt\",\n  scale_amount = 1,\n  relative = TRUE, # changed from FALSE\n  interactive = FALSE,\n  module = \"TIME_SERIES\",\n  linewidth = 2 # increase width of lines\n)\n\n\n\n\n\n\n\n\nTip\n\n\n\nThe only extended arguments available are the ones found from the ggplot2::geom_XX() function. Thus, any indexed variables can not be changes such as color to fill. Please see the documentation for ggplot2 geom functions for these additional arguments.\n\n\n\n\nSummarize our data\nNotice that you can remove the reference line by setting ref_line = NULL.\n\nstockplotr::plot_biomass(\n  dat = petrale,\n  geom = \"line\",\n  group = \"none\",\n  facet = NULL,\n  ref_line = NULL, # changed from c(\"target\" = 260)\n  unit_label = \"mt\",\n  scale_amount = 1,\n  relative = FALSE,\n  interactive = FALSE,\n  module = \"TIME_SERIES\"\n)\n\n\n\n\n\n\n\n\nBreak for questions\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nRemember that figures return ggplot2 objects, so we can make additional customization to these plots.\n\n\n\nstockplotr::plot_biomass(\n  dat = petrale,\n  geom = \"line\",\n  group = \"fleet\",\n  facet = NULL,\n  ref_line = c(\"target\" = 5690),\n  unit_label = \"mt\",\n  scale_amount = 1,\n  relative = FALSE,\n  interactive = FALSE,\n  module = \"TIME_SERIES\"\n) +\n  ggplot2::geom_vline(xintercept = 2005, linetype = \"dashed\", color = \"red\")\n\n\n\n\n\n\n\n\nBreak for questions. We will be moving onto tables next.",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#example-table",
    "href": "Curriculum/Day_3/day_3.html#example-table",
    "title": "Day 3",
    "section": "Example Table",
    "text": "Example Table\nRun the following example table. The result is a fully report ready table showing landings over time. Remember that these are exported as gt objects and can be edited as such.\n\n\n\n\n\n\nNote\n\n\n\n{stockplotr} uses the native pipe (|&gt;), so if you decide to customize you table, please also use the native pipe to avoid errors.\n\n\n\n# not sure what this will exactly look like so this is a place holder\nstockplotr::table_landings(\n  dat = petrale,\n  group = \"fleet\",\n  unit_label = \"mt\",\n  module = NULL\n)\n\n\n\n\n\n\n\n\nBreak for questions\n\n\n\nNext, we can add some different formatting:\n\nstockplotr::table_landings(\n  dat = petrale,\n  group = \"fleet\",\n  unit_label = \"mt\",\n  module = NULL\n) |&gt;\n  flextable::footnote(\n    i = 6, # row\n    j = 2, # column\n    value = flextable::as_paragraph(\n      \"This is an example table from the workflows workshop. Not intended for official use.\"\n      )\n  )\n\n\nor potentially highlight a specific line within the table:\n\nstockplotr::table_landings(\n  dat = petrale,\n  group = \"fleet\",\n  unit_label = \"mt\",\n  module = NULL\n) |&gt;\n  flextable::footnote(\n    i = 6, # row\n    j = 2, # column\n    value = flextable::as_paragraph(\n      \"Not intended for official use.\"\n      )\n  ) |&gt;\n  flextable::bg(\n    i = 5,\n    bg = \"lightblue\",\n    part = \"body\"\n    )\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#exporting",
    "href": "Curriculum/Day_3/day_3.html#exporting",
    "title": "Day 3",
    "section": "Exporting",
    "text": "Exporting\nYou can export any table or plot along with their associated caption and alternative text (figures only) in the format of an rda file. An rda is an R data file that stores R objects and preserves their structure. In this case, you can think of an rda file exported from {stockplotr} as a list of objects.\nEach plot or table has the option to export it as an rda. This rda is a list of 3 associated components for the plot/table to be used in a stock assessment report:\n\nggplot2 or gt object\ncaption\nalternative text (figures only)\nLaTeX object (tables only)\n\n\nstockplotr::plot_biomass(\n  dat = petrale,\n  ref_line = c(\"target\" = 260),\n  unit_label = \"mt\",\n  module = \"TIME_SERIES\",\n  make_rda = TRUE,\n  figures_dir = getwd()\n)\n\n\nload(\"figures/biomass_figure.rda\")\nrda$figure\nrda$caption\nrda$alt_text\n\n\n\n\n\n\n\n\nBreak for questions\n\n\n\n\n\nstockplotr::table_landings(\n  dat = petrale,\n  group = \"fleet\",\n  unit_label = \"mt\",\n  make_rda = TRUE,\n  tables_dir = getwd()\n)\n\n\nload(\"tables/landings_table.rda\")\nrda$table\nrda$caption\nrda$latex\n\n\n\n\n\n\n\nTip\n\n\n\nWe have designed two functions that allow you to automatically create all available figures and tables:\n\nsave_all_plots()\nhtml_all_figs_tables()\n\n\n\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Creating {stockplotr} figures & tables\n\n\n\n\n\nFor the following, use stockplotr::example_data as the input data.\n\nCreate an abundance-at-age plot. Export it as an rda to your working directory.\nCreate a recruitment time series plot. Change the unit_label and scale_amount so that the y axis shows recruitment in thousands of fish. Set module = ‚ÄúTIME_SERIES‚Äù.\nCreate a fishing mortality plot. Ensure it does not group by fleet. Set module = ‚ÄúTIME_SERIES‚Äù. Add a reference line (‚Äútarget‚Äù) at 0.5. Convert it from a line plot to a scatterplot.\nCreate a landings table.\n\nNow, use your own data.\n\nConvert your own dataset using convert_output().\nCreate a spawning biomass plot. Change the theme by applying the ggplot2::theme_classic().\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Creating {stockplotr} figures & tables\n\n\n\n\n\nFor the following, use stockplotr::example_data as the input data.\n\nCreate an abundance-at-age plot. Export it as an rda to your working directory.\n\nAnswer:\n\nstockplotr::plot_abundance_at_age(\n  dat = stockplotr::example_data,\n  make_rda = TRUE,\n  figures_dir = getwd()\n)\n\n\nCreate a recruitment time series plot. Change the unit_label and scale_amount so that the y axis shows recruitment in thousands of fish. Set module = ‚ÄúTIME_SERIES‚Äù.\n\nAnswer:\n\nstockplotr::plot_recruitment(\n  dat = stockplotr::example_data,\n  unit_label = \"fish\",\n  scale_amount = 1000,\n  module = \"TIME_SERIES\"\n)\n\n\nCreate a fishing mortality plot. Ensure it does not group by fleet. Set module = ‚ÄúTIME_SERIES‚Äù. Add a reference line (‚Äútarget‚Äù) at 0.5. Convert it from a line plot to a scatterplot.\n\nAnswer:\n\nstockplotr::plot_fishing_mortality(\n  dat = stockplotr::example_data,\n  group = \"none\",\n  module = \"TIME_SERIES\",\n  ref_line = c(\"target\" = 0.5),\n  geom = \"point\"\n)\n\n\nCreate a landings table.\n\nAnswer:\n\nstockplotr::table_landings(\n  dat = stockplotr::example_data\n)\n\nNow, use your own data.\n\nConvert your own dataset using convert_output().\n\nAnswer:\n\nconvert_output(\n  file = \"path/to/your_report_file\"\n  # Specify these arguments if you wish: model, fleet_names,   save_dir\n)\n\n\nCreate a spawning biomass plot. Change the theme by applying the ggplot2::theme_classic().\n\nAnswer:\n\nstockplotr::plot_spawning_biomass(\n  dat = your_converted_data_object\n) +\n  ggplot2::theme_classic()",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#adding-tables-and-figures-to-your-report",
    "href": "Curriculum/Day_3/day_3.html#adding-tables-and-figures-to-your-report",
    "title": "Day 3",
    "section": "Adding tables and figures to your report",
    "text": "Adding tables and figures to your report\nYou can add your figures and tables with two workflows:\n\nRerunning asar::create_tables_doc() and asar::create_figures_doc()\n\n\nIf you fill in arguments that allow R to find your tables and figures, then it will place them into the respective tables and figures docs automatically.\n\n\nAdding your tables and figures manually to each doc.\n\n\nOption 1: Rerunning asar::create_tables_doc()/asar::create_figures_doc()\nThis is also known as the rda-based workflow.\n\nTables\nTo add tables, first ensure that your folder containing the tables is called ‚Äútables‚Äù.\nThen, there are only two arguments to fill out:\n\nsubdir: The location where the new tables doc should be saved (we recommend your ‚Äòreport‚Äô folder, so it overwrites the old, empty version)\ntables_dir: The location of your ‚Äútables‚Äù folder\n\n\ncreate_tables_doc(\n  subdir = fs::path(getwd(), \"report\"), # indicates the new tables doc will be saved in your \"report\" folder, located in the working directory\n  tables_dir = getwd() # indicates your \"tables\" folder is located in the working directory\n                  )\n\nNow, open your new tables doc and take a look!\nYou‚Äôll notice the following structure:\nChunk 1 will always create an object saving the location of your tables_dir.\nThen, there will be at least two chunks for each table. For tables that are regularly-sized (i.e., small enough that they don‚Äôt need to be rotated or split across pages):\nChunk 2 will:\n\nload an rda containing a table\ngive the rda a specific name\nsave the table and caption as separate objects\n\nChunk 3 will:\n\ndisplay the table\n\n\n\n\n\n\n\nNote\n\n\n\nThis workflow can also accommodate tables that are wide enough to require rotation into a landscape-view page OR splitting across pages. For more information, please see the ‚ÄúAdding Custom Tables & Figures‚Äù vignette.\n\n\n\n\nFigures\nAdding figures entails nearly the same process as described for tables. The only differences are:\n\nFigures will involve captions and alternative text, whereas tables only require captions\nFigures do not require the option to be rotated or split across pages.\n\n\ncreate_figures_doc(\n  subdir = fs::path(getwd(), \"report\"),\n  figures_dir = getwd()\n  )\n\n\n\n\n\n\n\nBreak for questions\n\n\n\n\n\n\nOption 2: Manually adding tables/figures\n\nTables\nYou can add a regularly-sized1 table/figure manually by following these main steps:\n\nCreate a code chunk\nAdd your label and other chunk options\nAdd code\nWrite caption\nAdd a page break between tables (optional but recommended)\n\n\nDirect coding-in-qmd table workflow\nExample from the ‚ÄúAdding Custom Tables & Figures‚Äù vignette:\n```{r} \n#| label: 'tbl-custom1' # choose a label\n#| tbl-cap: !expr This is your table caption.\n\n# Import your data\npetrale &lt;- load(fs::path(\"std_output.rda\"))\n\n# Make your table\nyour_table &lt;- head(petrale) |&gt;\n  dplyr::select(label, year, estimate) |&gt;\n  flextable::flextable()\n\n# Show your table\nyour_table\n``` \n\nThen, add a pagebreak:\n\n{{&lt; pagebreak &gt;}}\n\n\n\n\n\n\n\nWarning\n\n\n\nIt will be important to add your captions and labels into a csv file when making your documents accessible. You will soon learn more about this in the the ‚ÄúAdding accessibility features‚Äù section!\n\n\n\n\nDirect image-based table insertion workflow\nWe don‚Äôt recommended adding tables as images, since it significantly reduces the accessibility of your table. However, we understand that sometimes this is the only format available.\nUse the following notation to reference an external table as an image:\n![Caption for my example table](example_table.png){fig-alt=\"This is the alternative text for my table\", #tbl-example}\n\n\n\n\n\n\nNote\n\n\n\nNotice how there is alternative text added to this method of adding a table. In this scenario, the table is recognized as an image and thus would NOT pass accessibility checks. Please make sure you add alternative text for image-based tables added in this way.\n\n\n\n\n\nFigures\n\nDirect coding-in-qmd figure workflow\nLike with tables, running create_figures_doc() produces a blank figures Quarto file. We add figures similarly to tables. In fact, the only major difference is that you must write alternative text for your figure.\nPut your alternative text in a chunk option called ‚Äòfig-alt‚Äô (example below).\n```{r} \n#| label: 'fig-custom1' # choose a label\n#| fig-cap: !expr This is your figure caption.\n#| fig-alt: !expr This is your figure alternative text.\n\n# Import your data\nload(fs::path(\"std_output.rda\"))\n\npetrale &lt;- out_new |&gt;\n                    dplyr::filter(year &gt; 1980) |&gt;\n                    dplyr::filter(module_name == \"TIME_SERIES\") |&gt;\n                    dplyr::filter(label == \"biomass\") |&gt;\n                    dplyr::filter(!is.na(fleet))\n\n# Make your figure\nyour_figure &lt;- ggplot2::ggplot(petrale,\n  ggplot2::aes(x = year, y = estimate, color = fleet)) +\n  ggplot2::geom_line(linewidth = 0.75) +\n  ggplot2::geom_point() +\n  ggplot2::theme_classic()\n\n# Show your figure\nyour_figure\n``` \n\n\n\n\n\n\n\nWarning\n\n\n\nEven though you wrote alt text in the fig-alt area, when you first render your report into a PDF, your alternative text will not show up in your document. Strange, right?! To ensure it shows up, refer to the ‚ÄúAdding accessibility features‚Äù section (which we‚Äôll discuss in a moment).\n\n\n\n\nDirect image-based figure insertion workflow\nLike tables, you can reference figures not made directly in code chunks. However, in this case, this does not change the accessibility of the figure because you can still add the necessary components to meet Section 508 compliance standards: alternative text and a caption.\n![Caption for my example figure](example_figure.png){fig-alt=\"This is the alternative text for my figure\", #fig-example}",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#referencing-your-tables-or-figures-in-text",
    "href": "Curriculum/Day_3/day_3.html#referencing-your-tables-or-figures-in-text",
    "title": "Day 3",
    "section": "Referencing your tables or figures in text",
    "text": "Referencing your tables or figures in text\nQuarto uses a special notation to allow users to link tables and figures throughout their text. Use the following notation to link/reference tables in your text:\n@tbl-example\nor\n@fig-example\nAdding an @ symbol followed by the chunk label, or label of your table/figure, will create an interactive link that lets the reader navigate to that specific table/figure.\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#in-the-r-console",
    "href": "Curriculum/Day_3/day_3.html#in-the-r-console",
    "title": "Day 3",
    "section": "In the R console",
    "text": "In the R console\nRun quarto::quarto_render([path/to/your/skeleton.qmd file]) in the console. For example:\n\nquarto::quarto_render(\n  file.path(\"report\",\n             \"SAR_species_skeleton.qmd\") # add your skeleton filename\n)",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#with-the-rstudio-render-button",
    "href": "Curriculum/Day_3/day_3.html#with-the-rstudio-render-button",
    "title": "Day 3",
    "section": "With the RStudio ‚Äúrender‚Äù button",
    "text": "With the RStudio ‚Äúrender‚Äù button\nOpen the skeleton.qmd file. Then, in the program pane, press the ‚Äúrender‚Äù button:",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#in-the-terminal",
    "href": "Curriculum/Day_3/day_3.html#in-the-terminal",
    "title": "Day 3",
    "section": "In the terminal",
    "text": "In the terminal\nRun quarto render [path/to/your/skeleton.qmd file] in the terminal. For example:\nEnter quarto render report/SAR_species_skeleton.qmd\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Add figures/tables and render report\n\n\n\n\n\n\nEnsure that you have a ‚Äòfigures‚Äô folder and a ‚Äòtables‚Äô folder, each with at least one rda file. If you don‚Äôt, export a couple of figures and tables.\n\nHint: ensure that the make_rda argument is set to TRUE when running the {stockplotr} functions that create figures and tables).\n\nOpen up your figures and tables qmds, in the ‚Äòreport‚Äô folder. If these documents do not contain the necessary chunks to import and display at least one plot, rerun create_figures_doc() and/or create_tables_doc() to add code that will plot the figures/tables in your ‚Äòfigures‚Äô and ‚Äòtables‚Äô folders.\n\nHint: ensure that the arguments are correct: subdir and figures_dir (for the figures doc) / tables_dir (for the tables doc)\nHint: This step practices the ‚Äúrda-based workflow‚Äù.\n\nPractice adding a figure with markdown notation by adding the image of a landings figure into the figures doc. The figure is located in the ‚Äòexample_plots‚Äô folder. Set the caption to ‚ÄúHistorical landings by fleet.‚Äù, the alternative text to ‚ÄúCumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.‚Äù, and the figure label to ‚Äúpractice-figure-label‚Äù.\n\nHint: This step practices the ‚Äúdirect image-based workflow‚Äù.\n\nIn the Executive Summary, add a reference to the first figure in your figures qmd file.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Add figures/tables and render report\n\n\n\n\n\n\nPractice adding a figure with markdown notation by adding the image of a landings figure into the figures doc. The figure is located in the ‚Äòexample_plots‚Äô folder. Set the caption to ‚ÄúHistorical landings by fleet.‚Äù, the alternative text to ‚ÄúCumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.‚Äù, and the figure label to ‚Äúpractice-figure-label‚Äù. Hint: This step practices the ‚Äúdirect image-based workflow‚Äù.\n\nAnswer: Add the following chunk to the figures doc:\n\n![Historical landings by fleet.](example_plots/landings_fig_png.png){fig-alt=\"Cumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.\", #practice-figure-label}\n\n\nIn the Executive Summary, add a reference to the first figure in your figures qmd file.\n\nAnswer: If the ‚Äòlabel‚Äô for that first figure is ‚Äòfig-custom1‚Äô, then the in-text reference would be ‚Äò@fig-custom1‚Äô.",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#add-tagging",
    "href": "Curriculum/Day_3/day_3.html#add-tagging",
    "title": "Day 3",
    "section": "Add tagging",
    "text": "Add tagging\nIn your ‚Äòreport‚Äô folder, you‚Äôll find a new file with a .tex filetype: ‚ÄòSAR_species_skeleton.tex‚Äô (or something similar). This file is a LaTex-based version of your rendered skeleton qmd file. It‚Äôs also where we add our remaining accessibility features, since Quarto does not yet offer that functionality within its qmd files.\nTags are structural elements of PDFs. They are signals telling software which information are headers, images, tables, text, and so on. Tags allow people using technology like screen readers to logically navigate PDFs.\nWe‚Äôll use the asar::add_tagging() function to add tags.\n\nasar::add_tagging(\n  x = \"SAR_species_skeleton.tex\", # your .tex report file\n  dir = \"report\", # the folder containing the .tex file\n  compile = FALSE # whether the .tex file should be compiled after tagging. We'll set it to FALSE for now\n  )\n\nNow your PDF is tagged! If you compiled your .tex file, it‚Äôd look something like this. The tags are on the right side of the PDF viewer.\n\n\n\n\n\n\n\nWarningDefault alt text should be updated\n\n\n\nIf you stop here (i.e., you don‚Äôt add your own alt text), this function will add the image paths as alt text. We‚Äôll show you how to add your intended alt text in the next step.\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#sec-add-alttext",
    "href": "Curriculum/Day_3/day_3.html#sec-add-alttext",
    "title": "Day 3",
    "section": "Add alternative text",
    "text": "Add alternative text\nYou must add alternative text (‚Äúalt text‚Äù) for images in a separate csv if you added figures using any of the workflows described above.\nSince you‚Äôve used {stockplotr} to make some figures, you‚Äôve already completed the first step: making a csv that will contain your alt text.\n\nLook at your alt text csv\nThe file, ‚Äúcaptions_alt_text.csv‚Äù, should be located in your working directory (enter getwd() if you forget where that is). Open it up.\nThe file is set up like this:\n\nColumn 1 (‚Äúlabel‚Äù) is a shorthand label for your figure or table. Labels should be somewhat short and exclude spaces. Examples include ‚Äúkobe‚Äù, ‚Äúrelative.biomass‚Äù, and ‚Äúfishing.mortality‚Äù.\nColumn 2 (‚Äútype‚Äù) contains ‚Äúfigure‚Äù or ‚Äútable‚Äù.\nColumn 3 (‚Äúcaption‚Äù) contains your caption.\nColumn 4 (‚Äúalt_text‚Äù) contains alternative text for figures. For tables, this column will be blank.\n\n\nFormat for csv containing table and figure captions and alternative text.\n\n\n\n\n\n\n\n\nlabel\ntype\ncaption\nalt_text\n\n\n\n\nexample_fig\nfigure\nExample caption for figure.\nExample alternative text for figure.\n\n\nexample_tab\ntable\nExample caption for table.\n\n\n\n\n\n\nUpdate the csv\nYour job is to:\n\nedit existing entries for your figures already created with {stockplotr}. This entails checking the accuracy, and writing the final component, of the existing alt text.\nadd entries for your custom figures.\n\n\nEditing existing entries\nUsing the ‚Äúlabel‚Äù column, find the row associated with your figure and inspect it.\n\nYou‚Äôll see that there‚Äôs already some prewritten alt text (in the ‚Äúalt_text‚Äù column) that includes data from the model results file. Now, you must check this information for accuracy and update it where necessary (especially if the default figures were modified).\nIf you see text that looks like a placeholder (e.g., ‚ÄúThe x axis, showing the year, spans from B.start.year to B.end.year‚Ä¶‚Äù), that means that there was at least one instance where our tool failed to extract a specific value from the model results, calculate a key quantity (like the start year of a biomass plot- aka ‚ÄúB.start.year‚Äù), and substitute it into the placeholder.\n\n\n\n\n\n\n\nImportant\n\n\n\nWhile we have extracted key quantities as accurately as possible, we cannot guarantee that each quantity will have been calculated perfectly. Input data varies widely. It‚Äôs your responsibility to check the accuracy of your figures‚Äô alt text.\n\n\n\nThis prewritten alt text usually contains 3/4 essential ingredients for well-written alt text. The remaining ingredient (#4): the relationship between the variables shown (i.e., what the figure is conveying). Since we can‚Äôt program {stockplotr} to analyze the figure‚Äôs meaning, you must provide this crucial component.\n\nWhen you‚Äôre satisfied, save the csv.\n\n\nAdding new entries\n\nMake a new row.\nFor ‚Äúlabel‚Äù, take the ‚Äúlabel‚Äù of your figure chunk. For example, in the example above, the label would be ‚Äúfig-custom1‚Äù.\nThe type will be ‚Äúfigure‚Äù.\nThe caption should be identical to the caption in your chunk (what you put in ‚Äúfig-cap‚Äù).\nThe ‚Äúalt_text‚Äù will contain your alt text. See the ‚ÄúEditing existing entries‚Äù section above, and the ‚ÄúAchieve Greater Accessibility‚Äù vignette, for help writing alt text.\n\nWhen you‚Äôre satisfied, save the csv.",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#add-alt-text-to-your-reports-images",
    "href": "Curriculum/Day_3/day_3.html#add-alt-text-to-your-reports-images",
    "title": "Day 3",
    "section": "Add alt text to your report‚Äôs images",
    "text": "Add alt text to your report‚Äôs images\nNow, we‚Äôll use the asar::add_alttext() function to add the alt text into the report‚Äôs .tex file.\n\nadd_alttext(\n    x = \"SAR_species_skeleton.tex\", # your .tex report file\n    dir = \"report\", # the folder containing the .tex file\n    alttext_csv_dir = getwd(), # the location of your \"captions_alt_text.csv\"\n    figures_dir = getwd(), # location of your \"figures\" folder\n    compile = TRUE # now we'll compile the PDF\n  )\n\nNow your PDF‚Äôs figures have alt text! You can find and edit the alt text by following these steps:\n\n\n\n1. Open the ‚ÄòAll Tools‚Äô menu in Adobe. Scroll down until you reach the ‚ÄúPrepare for accessibility‚Äù button. Click it.\n\n\n\n\n\n2. In the ‚ÄòPrepare for accessibility‚Äô, click the ‚ÄúAdd alternate text‚Äù button.\n\n\n\n\n\n3. In the ‚ÄòSet alternate text‚Äô pop-up, verify that your images contain the expected alternative text and edit as necessary.\n\n\n\n\n\n\n\n\nTip\n\n\n\nThe function asar::add_accessibility() performs the same tasks as asar::add_tagging() + asar::add_alttext() combined! Here, we showed the latter functions to explain how they work, but you can use asar::add_accessibility() once you‚Äôre comfortable with these steps.\n\n\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Adding accessibility features\n\n\n\n\n\n\nIf you haven‚Äôt already, add tags to your pdf by running add_tagging() with the appropriate arguments (including compile set to TRUE). Then, open up the report and ensure it was tagged.\nOpen up the ‚Äúcaptions_alt_text.csv‚Äù file that contains your alternative text and captions. Find the rows that are linked with the figures and tables in your report.\n\nRead through the captions and alternative text. Edit inaccuracies if necessary.\nFor figures, add a sentence or two describing the final ingredient for a solid alternative text: the relationship between the variables shown (i.e., what the figure is conveying).\nIf you‚Äôve created custom figures/tables, create new rows for each. Add captions for all, and alternative text for just figures. Ensure that the label matches the chunk label.\n\nRun add_alttext() with compile set to TRUE. Then, open up the report and ensure the images contain alt text.",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/Day_3/day_3.html#footnotes",
    "href": "Curriculum/Day_3/day_3.html#footnotes",
    "title": "Day 3",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nAgain, for tables that require rotating or splitting across pages, please refer to the ‚ÄúAdding Custom Tables & Figures‚Äù vignette.‚Ü©Ô∏é",
    "crumbs": [
      "Day 3: stockplotr + asar"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html",
    "href": "Curriculum/nsaw.html",
    "title": "NSAW workshop",
    "section": "",
    "text": "Learn how R markdown can be used to enhance {asar} reports\nUnderstand how Quarto is used to structure an {asar} report\nPractice setting up a reporting workflow using {asar}\nCreate semi-automated figures and tables with {stockplotr}",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#icebreaker",
    "href": "Curriculum/nsaw.html#icebreaker",
    "title": "NSAW workshop",
    "section": "Icebreaker",
    "text": "Icebreaker\nWelcome! Please open the communal notes doc and participate in the icebreaker exercise.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#code-of-conduct",
    "href": "Curriculum/nsaw.html#code-of-conduct",
    "title": "NSAW workshop",
    "section": "Code of conduct",
    "text": "Code of conduct\nEveryone participating in this workshop is required to abide by the terms of our Code of Conduct. We encourage you to contribute to a positive environment for our community by:\n\nDemonstrating empathy and kindness toward other people\nBeing respectful of differing opinions, viewpoints, and experiences\nGiving and gracefully accepting constructive feedback\nAccepting responsibility and apologizing to those affected by our mistakes, and learning from the experience\nFocusing on what is best not just for us as individuals, but for the overall community\n\nIf you believe that someone is in violation of the Code of Conduct, please report the incident to the workshop instructors and/or the community leaders responsible for enforcement using this form.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#who-are-we",
    "href": "Curriculum/nsaw.html#who-are-we",
    "title": "NSAW workshop",
    "section": "Who are we?",
    "text": "Who are we?\nSam Schiano and Sophie Breitbart are contractors with ECS Federal working in support of the NOAA Fisheries National Stock Assessment Program. Our work primarily focuses on stock assessment workflows by creating tools to help stock assessment scientists increase throughput. We are developing two R packages, {asar} and {stockplotr}, using an open science framework that prioritizes transparency and reproducibility.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#how-to-engage-with-us",
    "href": "Curriculum/nsaw.html#how-to-engage-with-us",
    "title": "NSAW workshop",
    "section": "How to engage with us",
    "text": "How to engage with us\nQuestions: Please raise your hand at any time. Depending on our schedule, we may ask that you save larger questions for breaks.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#materials-for-todays-lesson",
    "href": "Curriculum/nsaw.html#materials-for-todays-lesson",
    "title": "NSAW workshop",
    "section": "Materials for today‚Äôs lesson",
    "text": "Materials for today‚Äôs lesson\n\nCommunal notes doc\n\nContains resources (from us and you!) and areas for note-taking\n\nSample data\n\nSample model output data for coding demonstrations\n\nExample figure\n\nExample figure for coding demonstration\n\nJupyterHub workshop server- OPTIONAL\n\nThis is a TEMPORARY workspace where you can code along with us, if you‚Äôd prefer. Its contents are erased regularly, so it‚Äôs useful for performing temporary analyses- not storing files for more than a few days. If you‚Äôd like to keep the files you create today, be sure to export those files at the end of our workshop.\nAll necessary packages are already installed\nUsername: your email\nPassword: ask us\nTo log in, follow the three steps in these instructions to start the server, with one exception: Choose the ‚ÄúR - ASAR Stock Assessment‚Äù image . When the server has started up and you‚Äôve reached the Launcher page- i.e., your screen looks like this- select the RStudio button. Now you are ready to begin!\n\n\nIf you‚Äôd like to use JupyterHub for today‚Äôs coding environment, please open a session now. You‚Äôll need to download the two example files in Step 5 of the pre-workshop checklist.\n\nPackage installation\nIf you haven‚Äôt installed {asar}, {stockplotr}, and {tinytex}, please install these packages by following the instructions in the pre-workshop checklist.\n\n\n\n\n\n\nTipTip\n\n\n\nIf you‚Äôre using the JupyterHub workspace, those three R packages are already installed. No need to reinstall them.\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#workshop-overview",
    "href": "Curriculum/nsaw.html#workshop-overview",
    "title": "NSAW workshop",
    "section": "Workshop overview",
    "text": "Workshop overview\n\nPurpose and benefits to you\nBy the end of this workshop, we hope that you come away with the knowledge and confidence to write your next stock assessment report using a reproducible, efficient, and transparent workflow based on {asar} and {stockplotr}.\n{asar} is designed to:\n\nReduce the barriers of entry to using Quarto\nFamiliarize stock assessment scientists with reproducible workflows\nShift towards a more concise reporting format\nMove towards a more centralized workflow across NOAA Fisheries",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#common-uses-in-asar-reports",
    "href": "Curriculum/nsaw.html#common-uses-in-asar-reports",
    "title": "NSAW workshop",
    "section": "Common uses in {asar} reports",
    "text": "Common uses in {asar} reports\nR Markdown uses a simple syntax for formatting your text. Here are some of the most common formatting options:\n\nHeaders\n\n# signifies a top-level header\n## signifies a second-level header (etc.)\n\nEmphasis\n\n*italic* for italic text\n**bold** for bold text\n\nLists\n\nUnordered lists: Use * or - at the beginning of a line.\nOrdered lists: Use numbers followed by a period.\n\nLinks\n\n[link text](URL)\n\nMath\n\nInline math: Wrap your equation in single dollar signs: $A = \\pi * r^2$\nBlock equations: Wrap your equation in double dollar signs to display it on its own line:\n\n$$\nE = mc^2\n$$\n\n\n\n\n\n\n\nTip\n\n\n\nOpen the markdown vignette to learn about other markdown capabilities including tables, footnotes, subscripts, and more!",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#components-of-quarto-reports",
    "href": "Curriculum/nsaw.html#components-of-quarto-reports",
    "title": "NSAW workshop",
    "section": "Components of Quarto reports",
    "text": "Components of Quarto reports\n\nYAML\nThe YAML is the block of text at the very top of your main .qmd file, enclosed by triple dashes (‚Äî). It provides metadata for your document‚Äì i.e., how to build the report.\nCommon settings in the YAML include:\n\ntitle\nauthor\ndate\nformat (For {asar}, this will be PDF or HTML)\n\nHere is an example of a basic YAML:\n\n---\ntitle: \"Stock Assessment Report\"\nauthor: \"Patrick Star\"\ndate: today\n---\n\n\n\nParameters\nParameters allow you to create dynamic reports. You can define parameters in the YAML header and then reference them in your text and code.\nFor example, you could have a parameter for the species you‚Äôre writing about:\n\n---\ntitle: \"Stock Assessment Report\"\nauthor: \"Patrick Star\"\ndate: today\nparams:\n  species: \"Petrale sole\"\n---\n\nThen, in the body of your report, you can reference this parameter like this:\n‚ÄúThe native range of `params$species` spans from‚Ä¶‚Äù\nWhen you knit the document, `params$species` will be replaced with ‚ÄúPetrale sole‚Äù.\n\n\nReferences and Bibliography\nYou can easily add citations to your report. We provide an asar_references.bib file in the ‚Äúreport‚Äù folder with hundreds of citations for you to reference, though you can add your own to the file too.\nTo cite a reference in the text, use the @ symbol followed by the citation key (e.g., @Biddle_1992). Quarto will automatically format the citation and add it to the ‚ÄúReferences‚Äù section towards the end of your report. The bib file will be referenced in your {asar} report‚Äôs YAML.\nHere‚Äôs an example entry from the .bib file:\n@article{Biddle_1992,\n  title={Repton and the Vikings},\n  volume={66},\n  DOI={10.1017/S0003598X00081023},\n  number={250}, journal={Antiquity},\n  author={Biddle, Martin and Kj√∏lbye-Biddle, Birthe},\n  year={1992},\n  pages={36‚Äì51}\n}",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#tips-for-quarto-documents",
    "href": "Curriculum/nsaw.html#tips-for-quarto-documents",
    "title": "NSAW workshop",
    "section": "Tips for Quarto documents",
    "text": "Tips for Quarto documents\n\nModular setup with a skeleton\nWhen you run asar::create_template(), you will receive a ‚Äúreport‚Äù folder with several files within it. One of the most important files is what we call the ‚Äúskeleton‚Äù: a .qmd file containing chunks that run other files, then places the rendered contents of those files within one report.\nThose other files are what we call ‚Äúchild documents‚Äù. For example, your report introduction will be written in a child document. Your figures and tables will be placed in respective child docs, too.\nThis setup avoids placing your entire report in one massive .qmd file, facilitates asynchronous collaboration with your colleagues, and keeps your project organized (in a ‚Äúmodular‚Äù fashion).\n\n\nRelative pathnames\n\n\n\n\n\n\nImportant\n\n\n\nOnly files with paths relative to the Quarto doc will load!\n\n\nQuarto projects are self-contained such that it can only find files if you tell it where to look relative to the location of the .qmd file. To Quarto, the location of that .qmd file essentially becomes the root of your directory.\nFor example, imagine your project has this structure:\nreport/\n‚îú‚îÄ‚îÄ SAR_species_skeleton.qmd\n‚îú‚îÄ‚îÄ 01_executive_summary.qmd\n‚îú‚îÄ‚îÄ 02_introduction.qmd\n‚îî‚îÄ‚îÄ extra_data/\n    ‚îî‚îÄ‚îÄ red_fish.csv\n    ‚îî‚îÄ‚îÄ blue_fish.csv\nTo load ‚Äòred_fish.csv‚Äô inside SAR_species_skeleton.qmd, you would use a relative path:\n\nmy_data &lt;- read.csv(\"extra_data/red_fish.csv\")\n\nThis would work even if your working directory is not the ‚Äúreport‚Äù folder.\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about code chunks on our Day 1 page!\n\n\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Markdown\n\n\n\n\n\n\nCreate a new quarto document\nAdd the following elements:\n\n\nLevel 1 header (call it ‚ÄúSandwiches‚Äù)\nLevel 2 header (call it ‚ÄúMy favorite sandwich‚Äù)\n\n\nUnder heading level 2, add a sentence that describes your favorite sandwich. Italicize ‚Äúfavorite‚Äù and bold the sandwich name.\nAdd an unordered list with the sandwich‚Äôs ingredients.\nAdd an ordered list with the steps needed to make the sandwich.\nFind the first ingredient in the list and add a link to its wikipedia page.\nYour instructors are hungry, and they‚Äôre demanding that you split your sandwich with them. Use an inline mathematical notation to write the fraction necessary to feed the three of you.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Markdown\n\n\n\n\n\n\nCreate a new quarto document\n\nAnswer: Follow directions in the Day 1 ‚ÄúOpening a Document‚Äù section\n\nAdd the following elements:\n\n\nLevel 1 header (call it ‚ÄúSandwiches‚Äù)\nLevel 2 header (call it ‚ÄúMy favorite sandwich‚Äù)\n\n\nUnder heading level 2, add a sentence that describes your favorite sandwich. Italicize ‚Äúfavorite‚Äù and bold the sandwich name.\nAdd an unordered list with the sandwich‚Äôs ingredients.\nAdd an ordered list with the steps needed to make the sandwich.\nFind the first ingredient in the list and add a link to its wikipedia page.\nYour instructors are hungry, and they‚Äôre demanding that you split your sandwich with them. Use an inline mathematical notation to write the fraction necessary to feed the three of you.\n\nAnswers: Add code like the following:\n\n# Sandwiches\n\n## My favorite sandwich\n\nMy *favorite* sandwich is a **peanut butter and jelly sandwich**.\n\nIngredients:\n\n- [peanut butter (PB)](https://en.wikipedia.org/wiki/Peanut_butter)\n- jelly\n- bread\n\nSteps:\n\n1. Get two slices of bread\n2. Spread PB on one side of one slice of bread\n3. Spread jelly on one side of the other bread slice\n4. Stack the PB slice on top of the jelly slice so that PB and J meet in the middle of the sandwich.\n5. Eat!\n\nI'll split my sandwich into three pieces so that each person can get $1/3$ of the sandwich.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#overview-of-asar-based-reporting-workflow",
    "href": "Curriculum/nsaw.html#overview-of-asar-based-reporting-workflow",
    "title": "NSAW workshop",
    "section": "Overview of {asar}-based reporting workflow",
    "text": "Overview of {asar}-based reporting workflow\nMain steps for creating a stock assessment report with {asar}:\n\nInstall packages\nConvert model output into format usable by {asar}\nCreate the report skeleton\nMake child docs containing figures and tables (made with {stockplotr} or by other means)\nFill in child docs with text\nRender report\nAdd accessibility features (PDF tags and alternative text for figures)\n\n\n\n\n\n\n\nTip\n\n\n\nOpen the asar cheatsheet for a visual overview of the main workflow!",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#recommended-workflow",
    "href": "Curriculum/nsaw.html#recommended-workflow",
    "title": "NSAW workshop",
    "section": "Recommended workflow",
    "text": "Recommended workflow\nWe highly recommend using a project-based workflow. This involves creating an R project for each report, which facilitates returning to your session and maintaining files. Using either a project or GitHub repository will help you in the long run.\nTo create a new R project in Rstudio:\nFile &gt; New Project &gt; New or Existing Directory\n\n\n\n\n\n\nImportant\n\n\n\nIf you use VSCode or Positron for your IDE, by navigating to a folder on your computer, it will automatically initialize a project-like environment.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#the-main-functions",
    "href": "Curriculum/nsaw.html#the-main-functions",
    "title": "NSAW workshop",
    "section": "The main functions",
    "text": "The main functions\n{asar} revolves around a few primary functions and contains several support functions that help make the template. While most are accessible to the user, they would not perform helpful functions for them. Today, we will focus on the following functions:\n\nasar::create_template()\nstockplotr::convert_output() (This function is now located within {stockplotr} but is useful for building {asar} reports)\n\n\nasar::create_template()\nWhat it does:\nGenerates a set of files that setup a stock assessment report with its supporting files.\nWithin the created files is the ‚Äúskeleton file‚Äù which drives the render of the entire report. For those familiar with Rmarkdown or Quarto books, this is operating similar to a .yml file. The other quarto files found in your folder will be what we refer to as ‚Äúchild documents‚Äù, or child docs for short. These are the actual files that you will fill in when writing your report. These are the bulk of your content!\nTry it out!\ncreate_template() contains A LOT of arguments that allow the user to customize their document how they want. The function contains a set of defaults that would produce a template that could be rendered, but contains no real information relevant to the target stock.\nSo, let‚Äôs do more than just create a blank template! The following arguments are some key parts to fill in for a specific stock assessment report:\n\n\n\nArgument\nOptions\n\n\n\n\nformat\npdf, html\n\n\ntype\nSAR, pfmc, safe, nemt\n\n\noffice\nafsc, pifsc, nefsc, nwfsc sefsc, swfsc\n\n\nregion\n-\n\n\nspecies\n-\n\n\nspp_latin\n-\n\n\nyear\n-\n\n\nauthors\n-\n\n\nfile_dir\n-\n\n\n\n\n# Adjust below example based on audience\nlibrary(asar)\nlibrary(here)\ncreate_template(\n  format = \"pdf\", # optional \"html\"\n  type = \"SAR\", # add'l options: \"safe\", \"nemt\", \"pfmc\"\n  office = \"NWFSC\",\n  region = \"U.S. West Coast\",\n  species = \"Petrale sole\",\n  spp_latin = \"Eopsetta jordani\",\n  authors = c(\"Samantha Schiano\" = \"OST\", \"Jane Doe\" = \"SWFSC-LJCA\"),\n  file_dir = getwd() # folder where the \"report\" folder will be saved\n)\n\nRun it!\nYou should see a folder called ‚Äúreport‚Äù where you indicated in the argument file_dir. It should have a set up that looks like this:\n\n\n\nThe contents of an asar-generated template found in the report folder.\n\n\n\n\n\n\n\n\nNote\n\n\n\nYou should see a variety of messages reported in the console to indicate that it worked! For a blank template with no errors, it should look like this:\n\n\n\n\n\n\n\n\n\nBreak for questions\n\n\n\n\nLet‚Äôs take a tour of the content we created!\n\nThe skeleton\n\n\n\nDiagram showing different blocks of content found in the Quarto yaml within the skeleton.qmd file.\n\n\nAs previously mentioned, the skeleton file controls the rest of the report. This is the file you go to to compile your report, change formatting, or add quantities to reference in your document.\n\n\n\n\n\n\nNote\n\n\n\nYou shouldn‚Äôt have to adjust the yaml much, if at all. However, if your species does not match with an image in our database, then you can edit the yaml to add a filepath leading to your own cover image.\n\n\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about the {asar} yaml on our Day 2 page!\n\n\n\n\nParameterization\nQuarto has a cool feature that allows users to parameterize their document by utilizing markdown‚Äôs ability to render in-line code throughout your writing. In the yaml, there are pre-added parameters of the species, Latin name, region, and office. These are called in through an R chunk after the YAML.\nYou have two options for calling these parameters in your writing.\n\n` r params$species ` (Quarto parameterization)\n` r species ` ({asar} use of parameterization)\n\n\n\nThe preamble\nThe preamble is an R chunk that loads in a script called ‚Äúpreamble.R‚Äù which extracts key quantities commonly referenced in stock assessment reports. This will only work with a standard results file converted using asar::convert_output(), which we will get to shortly.\n\n\n\nA screenshot showing lines of code in an R chunk within the skeleton file containing various quantities pulled from the preamble.R script.\n\n\nThe quantities in found in this chunk can be referenced in-line throughout the document:\n` r R0 `\n\n\n\n\n\n\nNote\n\n\n\nFor more information on markdown notation, see Day 1 of this workshop or navigate to our article on the topic!\n\n\nLet‚Äôs find the preamble and see the methods to edit it\n\n\nThe content\nThe ‚Äúchild docs‚Äù are where you as the assessment author or contributor report out the information you need to include. The template is highly modular so there are files for each section of the report and sometimes files for subsections. The default {asar} template creates child docs following the NOAA standard stock assessment report guidelines consisting of the following:\n\nexecutive summary\nintroduction\ndata\nassessment (modelling and results)\ndiscussion\nacknowledgements\nreferences\ntables\nfigures\nappendix\n\nEach child doc contains pre-determined headers and labels for the author to reference back to throughout the document. There are also descriptions within each section that depcit what you should report on throughout the document. You can either keep or remove these notes once the document is finished, either way, they will not be included in your final report.\nChild docs are not intended to be rendered on their own, but only from the skeleton as a whole!\n\n\n\n\n\n\nImportant\n\n\n\nWe are advising everyone that if required content is needed beyond the standard guidelines, that it gets placed in the appendix; however we encourage everyone to think about the importance of the content in terms of review for management versus CIE or SSC review.\n\n\n\nPlease add the following text into your ‚Äúintroduction‚Äù section:\nThe stock assessment for `r params$species` was conducted by the `r params$office` in `r params$region`. The spawning biomass at maximum sustainable yield for the current assessment year (`r end_year`) was `r sb_msy`. You can find more information on the results of this assessment in @sec-assessment-results. The guidelines for this report follow those outlined in @NOAA_2020.\n\n\n\n\nstockplotr::convert_output()\nWhat it does:\nThis function, which was formerly located within {asar} but has been moved to {stockplotr}, converts an output file from a stock assessment model to a standard format. This file can be used to extract quantities within the preamble and to build figures and tables with {stockplotr} (covered in Day 3).\nThe convert_output function currently accepts output from Stock Synthesis (Report.sso) version 3.30 and higher, Beaufort Assessment Model (BAM; output.rda), or Fisheries Integrated Modelling System (FIMS; R object). We are actively working on expanding the convert_output function to be compatible with all major U.S. stock assessment models. This function takes a lot of resources to develop, so any contribution to the package is welcome! If you have a model that is not currently compatible with stockplotr::convert_output(), please navigate to our article describing the function and how to get your output in the same format as those produced from the converter!\nLet‚Äôs try it out!\nWe have uploaded an example Report.sso file in the workshop GitHub, but if you have a compatible output file, we encourage you to use your own.\n\n# Identify output file\noutput_file &lt;- file.path(here::here(), \"example_output\", \"Report.sso\")\n# convert the output\npetrale &lt;- stockplotr::convert_output(\n  output_file,\n  save_dir = file.path(getwd(), \"report\", \"petrale_conout.rda\"))\n\nRun it!\n\npetrale\n\n\n\n\nA screenshot of the first 8 columns and 10 rows of data from a standard output tibble converted from a stock synthesis Report.sso file.\n\n\n\n\n\n\n\n\nTip\n\n\n\nconvert_output() will recognize which model the results file came from as well as fleet names. In the rare case either of these are incorrect, the function contains arguments of model and fleet_names which you as the user can indicate for the function.\nIf you are explicitly stating fleet names, make sure they are in the order you expect them to be found in the file.\n\n\n\nFormat of converted output\nThe converted output is a tibble that reframes and reshapes your data. The tibble contains each output value as a row with its error and any associated indexing values.\n\n\n\n\n\n\nNote\n\n\n\nLet‚Äôs walk through a standard output file in more detail.\n\n\n\n\n\n\n\n\nCautionPractice exercises: Get familiar with standard output\n\n\n\n\n\n\nFilter the output data for spawning biomass that only includes years 2000 to 2020.\nExtract the SBmsy reference point from the output data.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Get familiar with standard output\n\n\n\n\n\n\nFilter the output data for spawning biomass that only includes years 2000 to 2020.\n\nAnswer: Use the dplyr filtering functions or other subsetting function to filter the data.\n\nfiltered_data &lt;- petrale |&gt;\n  dplyr::filter(\n    grepl(\"^spawning_biomass$\", label),\n    year &gt; 2000,\n    year &lt; 2020\n  )\n\n\n\n\n\n\n\nNote\n\n\n\nNotice that there are multiple time series of spawning biomass. This is because the original model output reports these values in different modules. We maintained the integrity of the original model output by keeping all of these time series. You may want to further filter the data to only include spawning biomass from a specific module.\n\n\n\nExtract the SBmsy reference point from the output data..\n\nAnswer: Filter your initial converted data by label name where you can either use ‚Äúmsy‚Äù or ‚Äúspawning_biomass_msy‚Äù. All quantities are spelled out except for msy or spr.\n\nSBmsy &lt;- petrale |&gt;\n  dplyr::filter(\n    grepl(\"^spawning_biomass_msy$\", label)\n  ) |&gt;\n  dplyr::pull(estimate)\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nFor more information, navigate to this article describing the conversion process and find ways your can convert your model‚Äôs data!",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#advanced-asar-workflow",
    "href": "Curriculum/nsaw.html#advanced-asar-workflow",
    "title": "NSAW workshop",
    "section": "Advanced {asar} workflow",
    "text": "Advanced {asar} workflow\nNow we are going to walk-through a more complex use of {asar} by\n\nCustomizing our sections\nReorganizing section order\n\n\nCreate-your-own\nThere are three additional template options available to users to use while we work to set standard assessment report guidelines across the country. They include SAFE reports, NEFSC management track reports, and PFMC guidelines. Not only thing, but you have the ability to add new sections either within the current outline or in individual sections or even select which sections of the standard template you want to create your report around.\nToday, we will be going over how to customize your template by adding a new section along with updating your current report when the need arises..\n\n\nRerendering report\nWe understand that it‚Äôs easy to forget to enter in all of the information you need for a report on it‚Äôs initial creation! Because of this, we made the argument ‚Äúrerender_skeleton‚Äù that adds on any new information to the skeleton file that you might want such as additional authors, a new species image, parameters, or anything that is open for you to customize in the skeleton file.\nYou COULD do this manually, but using the function both allows you to create a record of your changes (making it more reproducible) and makes the Quarto yaml less intimidating to new users!\n\n\n\n\n\n\nNote\n\n\n\nYou can run re-render skeleton as often as you want, it will always edit the current skeleton in the folder. Please note: any additional skeleton files will make this process fail. The process will also verify that you want to overwrite the current skeleton and either keep or replace the key quantities file.\n\n\n\nOur changes: new parameters, additional author, and a new section\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about how to add more parameters to a script on our Day 2 page!\n\n\nNow, I need to add my co-authors to my report especially since I wasn‚Äôt sure who was going to be working on it at the time I created my report template. After review of our terms of reference, I noticed that I needed a section to document my changes to the model, so let‚Äôs add that in too.\n\nasar::create_template(\n  rerender_skeleton = TRUE,\n  file_dir = file.path(getwd(), \"report\"),\n  authors = c(\"John Doe\"=\"NEFSC\", \"Jane Doe\"=\"NOAA\"),\n  model_results = file.path(getwd(), \"report\", \"std_output.rda\"),\n  custom = TRUE,\n  new_section = \"Changes to the Model\",\n  section_location = \"in-assessment\"\n)\n\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about how to call in previous reports on our Day 2 page!\n\n\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Foundational create_template() use cases\n\n\n\n\n\n\nRun create_template(). Fill in your own values for office, region, species, spp_latin, and year. Use default values for all remaining arguments.\nWhoops! You forgot to add the report author‚Äôs name and affiliation (yours!). Open the report skeleton and edit the yaml with this information.\nYou realize that your report will frequently reference another species: Patrickicus starrus. Add a new parameter to the report‚Äôs yaml so that you can reference ‚ÄúPatrickicus starrus‚Äù with a simple ‚Äúps‚Äù.\nOpen up the Executive Summary qmd file and add a sentence that references your new parameter.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Foundational create_template() use cases\n\n\n\n\n\n\nRun create_template(). Fill in your own values for office, region, species, spp_latin, and year. Use default values for all remaining arguments.\n\nAnswer: Run code similar to the following, adding in your own values for the arguments below.\n\ncreate_template(\n    office = \"SEFSC\",\n    region = \"Southeast Coast\",\n    species = \"Atlantic Bigeye Tuna\",\n    spp_latin = \"Thunnus obesus\",\n    year = 2026\n)\n\n\nWhoops! You forgot to add the report author‚Äôs name and affiliation (yours!). Open the report skeleton and edit the yaml with this information.\n\nAnswer: Open the .qmd file with ‚Äúskeleton‚Äù in the filename. Edit the yaml‚Äôs ‚Äúauthor‚Äù section to go from something like the first chunk to the second chunk.\n\n# Original yaml snippet (located just beneath the title)\nauthor:\n  - name: 'FIRST LAST'\n    affiliations: \n      - name: 'NOAA Fisheries' \n        address: 'ADDRESS' \n        city: 'CITY' \n        state: 'STATE' \n        postal-code: 'POSTAL CODE' \n\n\n# Updated yaml snippet\nauthor:\n  - name: 'Patrick Star'\n    affiliations:\n      - name: 'NOAA Fisheries Southeast Fisheries Science Center'\n        address: '75 Virginia Beach Drive'\n        city: 'Miami, FL'\n        state: 'FL'\n        postal-code: '33149'\n\n\nYou realize that your report will frequently reference another species: Patrickicus starrus. Add a new parameter to the report‚Äôs yaml so that you can reference ‚ÄúPatrickicus starrus‚Äù with a simple ‚Äúps‚Äù.\n\nAnswer: Open the .qmd file with ‚Äúskeleton‚Äù in the filename. Edit the yaml‚Äôs ‚Äúparams‚Äù section and add the following line:\n\n# Updated yaml snippet\nparams:\n   office: 'SEFSC'\n   species: 'Atlantic Bigeye Tuna'\n   spp_latin: 'Thunnus obesus'\n   region: 'Southeast Coast'\n   ps: 'Patrickicus starrus' # &lt;-- new line\n\n\nOpen up the Executive Summary qmd file and add a sentence that references your new parameter.\n\nAnswer: Open the 01_executive_summary.qmd file and add a line that references the param ‚Äòps‚Äô, like the following:\n\n\"The species `r ps` was abundant throughout the study area.\"\n\nThe sentence will render as such:\n‚ÄúThe species Patrickicus starrus was abundant throughout the study area.‚Äù\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Advanced create_template() use cases\n\n\n\n\n\n\nCreate a stock assessment report template tailored for the AFSC (a SAFE report).\nCreate a stock assessment report template with two main sections: an executive summary and an introduction (the following sections will be added automatically: acknowledgments, references, tables, figures).\nWhoops! You forgot to add your species name, and now you don‚Äôt have a cover image. Run create_template() with the argument rerender_skeleton = TRUE, and add your species name (common and scientific names) as two additional arguments: ‚ÄúPetrale sole‚Äù (Eopsetta jordani).\n\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Advanced create_template() use cases\n\n\n\n\n\n\nCreate a stock assessment report template tailored for the AFSC (a SAFE report).\n\nAnswer:\n\nasar::create_template(\n  type = \"safe\"\n)\n\n\n\n\n\n\n\nCreate a stock assessment report template with two main sections: an executive summary and an introduction (the following sections will be added automatically: acknowledgments, references, tables, figures).\n\nAnswer:\n\nasar::create_template(\n    authors = c(\"Samantha Schiano\" = \"OST\"),\n    custom = TRUE,\n    custom_sections = c(\"executive_summary\", \"introduction\")\n)\n\n\nWhoops! You forgot to add your species name, and now you don‚Äôt have a cover image. Run create_template() with the argument rerender_skeleton = TRUE, and add your species name (common and scientific names) as two additional arguments: ‚ÄúPetrale sole‚Äù (Eopsetta jordani).\n\nAnswer:\n\nasar::create_template(\n  rerender_skeleton = TRUE,\n  species = \"Petrale sole\",\n  spp_latin = \"Eopsetta jordani\",\n  file_dir = file.path(\"report\")\n)",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#package-information",
    "href": "Curriculum/nsaw.html#package-information",
    "title": "NSAW workshop",
    "section": "Package information",
    "text": "Package information\nThis package is an ongoing process to gather contributions in order to expand the number of pre-made tables and figures that can be incorporated into a stock assessment report. All objects are intended to be generalized and not specific to any region.\n{stockplotr} also contains convert_output(): the function used to convert model results into a standardized output (as explained in a previous section). This standardized output is the input for the {stockplotr} plotting functions, below (the dat argument).\nThe following table contains figures and tables that are available in {stockplotr}:\n\n\n\n\n\n\n\nFunction\nDescription\n\n\n\n\nplot_abundance_at_age()\nabundance-at-age\n\n\nplot_biomass_at_age()\nbiomass-at-age\n\n\nplot_biomass()\nbiomass time series\n\n\nplot_catch_comp()\ncatch compositions\n\n\nplot_fishing_mortality\nfishing mortality time series\n\n\nplot_indices()\nindices\n\n\nplot_landings()\nlandings time series\n\n\nplot_natural_mortality()\nnatural mortality time series or at-age\n\n\nplot_recruitment_deviations()\nrecruitment deviations\n\n\nplot_recruitment()\nrecruitment time series\n\n\nplot_spawn_recruitment()\nspawn recruitment relationship\n\n\nplot_spawning_biomass()\nspawning biomass time series\n\n\ntable_landings()\nlandings time series by fleet or other indexing\n\n\ntable_bnc()- coming soon\nbiomass, landings, and catch time series\n\n\ntable_harvest_projection()- coming soon\nharvest projection table according to SAFE standards (to be expanded nationally)\n\n\ntables_indices()- coming soon\nindices by fleet\n\n\n\nEach automated function returns either a ggplot2 object (figure) or gt object (table). This allows for further customization of the output if desired by using the notation you are familiar with. For a figure, you can continue to add onto the plot any other ggplot2 function or extension using the plus (+) operator. For a table, please use the native pipe (|&gt;) when adding additional formatting, rows, or other pieces to the object.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#example-figure",
    "href": "Curriculum/nsaw.html#example-figure",
    "title": "NSAW workshop",
    "section": "Example Figure",
    "text": "Example Figure\nRun the example below. It should result in a line graph showing biomass over time, including a reference line for the biomass unfished.\n\nstockplotr::plot_biomass(\n  dat = petrale, # dataset\n  geom = \"line\", # show a line graph\n  group = NULL, # don't group by sex, fleet, etc.\n  facet = NULL, # not faceting by any variable\n  ref_line = \"unfished\", # set reference line at unfished\n  unit_label = \"mt\", # unit label: metric tons\n  scale_amount = 1, # do not scale biomass\n  relative = FALSE, # show biomass, NOT relative biomass\n  interactive = TRUE, # prompt user for MODULE_NAME in console\n  module = NULL # MODULE_NAME not specified here\n)\n\n\n\n\n\n\n\n\nBreak for questions\n\n\n\n\nCustomizing\nAll figures will automatically identify any indexing variables in the data such as fleet, area, or sex. You can use the group and facet arguments to modify how these indexing variables are displayed in the figure. You can also modify other arguments such as geom, ref_line, and relative to change the appearance of the figure.\nHere are some examples of how to customize the biomass figure:\n\nChange the reference line to a specific value (e.g., 260)\nIn this example we are also telling the function which module to select in order to by-pass this step. We plan to remove grouping of some modules in the future.\n\nstockplotr::plot_biomass(\n  dat = petrale,\n  geom = \"line\",\n  group = NULL,\n  facet = NULL,\n  ref_line = c(\"target\" = 260), # changed from \"unfished\"\n  unit_label = \"mt\",\n  scale_amount = 1,\n  relative = FALSE,\n  interactive = FALSE, # changed from TRUE\n  module = \"TIME_SERIES\" # indicate module name here\n)\n\n\n\n\nPlot relative biomass and change the size of the line\nIn this example, we still are bypassing module selection and we are automatically extracting the reference line value from the data. However, now we are using this reference value to plot relative biomass and changing the linewidth to 2 (an argument inherited from ggplot2::geom_line()).\n\n\n\n\n\n\nNote\n\n\n\nIf you were plotting a scatterplot (geom = 'point') or area plot (geom = 'area'), you could add arguments associated with geom_point() and geom_area(), respectively.\n\n\n\nstockplotr::plot_biomass(\n  dat = petrale,\n  geom = \"line\",\n  group = NULL,\n  facet = NULL,\n  ref_line = c(\"target\" = 260),\n  unit_label = \"mt\",\n  scale_amount = 1,\n  relative = TRUE, # changed from FALSE\n  interactive = FALSE,\n  module = \"TIME_SERIES\",\n  linewidth = 2 # increase width of lines\n)\n\n\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about how to remove a reference line and further customize these ggplot2-based plots on our Day 3 page!\n\n\n\n\n\n\n\n\nBreak for questions. We will be moving onto tables next.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#example-table",
    "href": "Curriculum/nsaw.html#example-table",
    "title": "NSAW workshop",
    "section": "Example Table",
    "text": "Example Table\nRun the following example table. The result is a fully report ready table showing landings over time. Remember that these are exported as gt objects and can be edited as such.\n\n\n\n\n\n\nNote\n\n\n\n{stockplotr} uses the native pipe (|&gt;), so if you decide to customize your table, please also use the native pipe to avoid errors.\n\n\n\n# not sure what this will exactly look like so this is a place holder\nstockplotr::table_landings(\n  dat = petrale,\n  group = \"fleet\",\n  unit_label = \"mt\",\n  module = NULL\n)\n\n\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about how to further customize table formatting on our Day 3 page!\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#exporting",
    "href": "Curriculum/nsaw.html#exporting",
    "title": "NSAW workshop",
    "section": "Exporting",
    "text": "Exporting\nYou can export any table or plot along with their associated caption and alternative text (figures only) in the format of an rda file. An rda is an R data file that stores R objects and preserves their structure. In this case, you can think of an rda file exported from {stockplotr} as a list of objects.\nEach plot or table has the option to export it as an rda. This rda is a list of 3 associated components for the plot/table to be used in a stock assessment report:\n\nggplot2 or gt object\ncaption\nalternative text (figures only)\nLaTeX object (tables only)\n\n\nstockplotr::plot_biomass(\n  dat = petrale,\n  ref_line = c(\"target\" = 260),\n  unit_label = \"mt\",\n  module = \"TIME_SERIES\",\n  make_rda = TRUE,\n  figures_dir = getwd()\n)\n\n\nload(\"figures/biomass_figure.rda\")\nrda$figure\nrda$caption\nrda$alt_text\n\n\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about table rda components and how to automatically create all available figures and tables on our Day 3 page!\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#adding-tables-and-figures-to-your-report",
    "href": "Curriculum/nsaw.html#adding-tables-and-figures-to-your-report",
    "title": "NSAW workshop",
    "section": "Adding tables and figures to your report",
    "text": "Adding tables and figures to your report\nYou can add your figures and tables with two workflows:\n\nRerunning asar::create_tables_doc() and asar::create_figures_doc()\n\n\nIf you fill in arguments that allow R to find your tables and figures, then it will place them into the respective tables and figures docs automatically.\n\n\nAdding your tables and figures manually to each doc.\n\n\nOption 1: Rerunning asar::create_tables_doc()/asar::create_figures_doc()\nThis is also known as the rda-based workflow.\n\nTables\nTo add tables, first ensure that your folder containing the tables is called ‚Äútables‚Äù.\nThen, there are only two arguments to fill out:\n\nsubdir: The location where the new tables doc should be saved (we recommend your ‚Äòreport‚Äô folder, so it overwrites the old, empty version)\ntables_dir: The location of your ‚Äútables‚Äù folder\n\n\ncreate_tables_doc(\n  subdir = fs::path(getwd(), \"report\"), # indicates the new tables doc will be saved in your \"report\" folder, located in the working directory\n  tables_dir = getwd() # indicates your \"tables\" folder is located in the working directory\n                  )\n\nNow, open your new tables doc and take a look!\nYou‚Äôll notice the following structure:\nChunk 1 will always create an object saving the location of your tables_dir.\nThen, there will be at least two chunks for each table. For tables that are regularly-sized (i.e., small enough that they don‚Äôt need to be rotated or split across pages):\nChunk 2 will:\n\nload an rda containing a table\ngive the rda a specific name\nsave the table and caption as separate objects\n\nChunk 3 will:\n\ndisplay the table\n\n\n\n\n\n\n\nNote\n\n\n\nThis workflow can also accommodate tables that are wide enough to require rotation into a landscape-view page OR splitting across pages. For more information, please see the ‚ÄúAdding Custom Tables & Figures‚Äù vignette.\n\n\n\n\nFigures\nAdding figures entails nearly the same process as described for tables. The only differences are:\n\nFigures will involve captions and alternative text, whereas tables only require captions\nFigures do not require the option to be rotated or split across pages.\n\n\ncreate_figures_doc(\n  subdir = fs::path(getwd(), \"report\"),\n  figures_dir = getwd()\n  )\n\n\n\n\nOption 2: Manually adding tables/figures\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about how to manually add figures and tables‚Äì i.e., directly code figures/tables in child document chunks, and reference premade figures/tables with markdown code‚Äì on our Day 3 page!\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#referencing-your-tables-or-figures-in-text",
    "href": "Curriculum/nsaw.html#referencing-your-tables-or-figures-in-text",
    "title": "NSAW workshop",
    "section": "Referencing your tables or figures in text",
    "text": "Referencing your tables or figures in text\nQuarto uses a special notation to allow users to link tables and figures throughout their text. Use the following notation to link/reference tables in your text:\n@tbl-example\nor\n@fig-example\nAdding an @ symbol followed by the chunk label, or label of your table/figure, will create an interactive link that lets the reader navigate to that specific table/figure.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#add-tagging",
    "href": "Curriculum/nsaw.html#add-tagging",
    "title": "NSAW workshop",
    "section": "Add tagging",
    "text": "Add tagging\nIn your ‚Äòreport‚Äô folder, you‚Äôll find a new file with a .tex filetype: ‚ÄòSAR_species_skeleton.tex‚Äô (or something similar). This file is a LaTex-based version of your rendered skeleton qmd file. It‚Äôs also where we add our remaining accessibility features, since Quarto does not yet offer that functionality within its qmd files.\nTags are structural elements of PDFs. They are signals telling software which information are headers, images, tables, text, and so on. Tags allow people using technology like screen readers to logically navigate PDFs.\nWe‚Äôll use the asar::add_tagging() function to add tags.\n\nasar::add_tagging(\n  x = \"SAR_species_skeleton.tex\", # your .tex report file\n  dir = \"report\", # the folder containing the .tex file\n  compile = FALSE # whether the .tex file should be compiled after tagging. We'll set it to FALSE for now\n  )\n\nNow your PDF is tagged! If you compiled your .tex file, it‚Äôd look something like this. The tags are on the right side of the PDF viewer.\n\n\n\n\n\n\n\nWarningDefault alt text should be updated\n\n\n\nIf you stop here (i.e., you don‚Äôt add your own alt text), this function will add the image paths as alt text. We‚Äôll show you how to add your intended alt text in the next step.\n\n\n\n\n\n\n\n\nBreak for questions",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#sec-add-alttext",
    "href": "Curriculum/nsaw.html#sec-add-alttext",
    "title": "NSAW workshop",
    "section": "Add alternative text",
    "text": "Add alternative text\nYou must add alternative text (‚Äúalt text‚Äù) for images in a separate csv if you added figures using any of the workflows described above.\nSince you‚Äôve used {stockplotr} to make some figures, you‚Äôve already completed the first step: making a csv that will contain your alt text.\n\nLook at your alt text csv\nThe file, ‚Äúcaptions_alt_text.csv‚Äù, should be located in your working directory (enter getwd() if you forget where that is). Open it up.\nThe file is set up like this:\n\nColumn 1 (‚Äúlabel‚Äù) is a shorthand label for your figure or table. Labels should be somewhat short and exclude spaces. Examples include ‚Äúkobe‚Äù, ‚Äúrelative.biomass‚Äù, and ‚Äúfishing.mortality‚Äù.\nColumn 2 (‚Äútype‚Äù) contains ‚Äúfigure‚Äù or ‚Äútable‚Äù.\nColumn 3 (‚Äúcaption‚Äù) contains your caption.\nColumn 4 (‚Äúalt_text‚Äù) contains alternative text for figures. For tables, this column will be blank.\n\n\nFormat for csv containing table and figure captions and alternative text.\n\n\n\n\n\n\n\n\nlabel\ntype\ncaption\nalt_text\n\n\n\n\nexample_fig\nfigure\nExample caption for figure.\nExample alternative text for figure.\n\n\nexample_tab\ntable\nExample caption for table.\n\n\n\n\n\n\nUpdate the csv\nYour job is to:\n\nedit existing entries for your figures already created with {stockplotr}. This entails checking the accuracy, and writing the final component, of the existing alt text.\nadd entries for your custom figures.\n\n\n\n\n\n\n\nImportant\n\n\n\nWhile we have extracted key quantities as accurately as possible, we cannot guarantee that each quantity will have been calculated perfectly. Input data varies widely. It‚Äôs your responsibility to check the accuracy of your figures‚Äô alt text.\n\n\n\nThis prewritten alt text usually contains 3/4 essential ingredients for well-written alt text. The remaining ingredient (#4): the relationship between the variables shown (i.e., what the figure is conveying). Since we can‚Äôt program {stockplotr} to analyze the figure‚Äôs meaning, you must provide this crucial component.\n\n\n\n\n\n\n\nTipOutside today‚Äôs scope\n\n\n\nLearn about how to edit your report‚Äôs alternative text and captions, and add new entries, on our Day 3 page!",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "Curriculum/nsaw.html#add-alt-text-to-your-reports-images",
    "href": "Curriculum/nsaw.html#add-alt-text-to-your-reports-images",
    "title": "NSAW workshop",
    "section": "Add alt text to your report‚Äôs images",
    "text": "Add alt text to your report‚Äôs images\nNow, we‚Äôll use the asar::add_alttext() function to add the alt text into the report‚Äôs .tex file.\n\nadd_alttext(\n    x = \"SAR_species_skeleton.tex\", # your .tex report file\n    dir = \"report\", # the folder containing the .tex file\n    alttext_csv_dir = getwd(), # the location of your \"captions_alt_text.csv\"\n    figures_dir = getwd(), # location of your \"figures\" folder\n    compile = TRUE # now we'll compile the PDF\n  )\n\nNow your PDF‚Äôs figures have alt text! You can find and edit the alt text by following these steps:\n\n\n\n1. Open the ‚ÄòAll Tools‚Äô menu in Adobe. Scroll down until you reach the ‚ÄúPrepare for accessibility‚Äù button. Click it.\n\n\n\n\n\n2. In the ‚ÄòPrepare for accessibility‚Äô, click the ‚ÄúAdd alternate text‚Äù button.\n\n\n\n\n\n3. In the ‚ÄòSet alternate text‚Äô pop-up, verify that your images contain the expected alternative text and edit as necessary.\n\n\n\n\n\n\n\n\nTip\n\n\n\nThe function asar::add_accessibility() performs the same tasks as asar::add_tagging() + asar::add_alttext() combined! Here, we showed the latter functions to explain how they work, but you can use asar::add_accessibility() once you‚Äôre comfortable with these steps.\n\n\n\n\n\n\n\n\n20 minute break for questions & practicing\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Creating {stockplotr} figures & tables\n\n\n\n\n\nFor the following, use stockplotr::example_data as the input data.\n\nCreate an abundance-at-age plot. Export it as an rda to your working directory.\nCreate a recruitment time series plot. Change the unit_label and scale_amount so that the y axis shows recruitment in thousands of fish. Set module = ‚ÄúTIME_SERIES‚Äù.\nCreate a fishing mortality plot. Ensure it does not group by fleet. Set module = ‚ÄúTIME_SERIES‚Äù. Add a reference line (‚Äútarget‚Äù) at 0.5. Convert it from a line plot to a scatterplot.\nCreate a landings table.\n\nNow, use your own data.\n\nConvert your own dataset using convert_output().\nCreate a spawning biomass plot. Change the theme by applying the ggplot2::theme_classic().\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Creating {stockplotr} figures & tables\n\n\n\n\n\nFor the following, use stockplotr::example_data as the input data.\n\nCreate an abundance-at-age plot. Export it as an rda to your working directory.\n\nAnswer:\n\nstockplotr::plot_abundance_at_age(\n  dat = stockplotr::example_data,\n  make_rda = TRUE,\n  figures_dir = getwd()\n)\n\n\nCreate a recruitment time series plot. Change the unit_label and scale_amount so that the y axis shows recruitment in thousands of fish. Set module = ‚ÄúTIME_SERIES‚Äù.\n\nAnswer:\n\nstockplotr::plot_recruitment(\n  dat = stockplotr::example_data,\n  unit_label = \"fish\",\n  scale_amount = 1000,\n  module = \"TIME_SERIES\"\n)\n\n\nCreate a fishing mortality plot. Ensure it does not group by fleet. Set module = ‚ÄúTIME_SERIES‚Äù. Add a reference line (‚Äútarget‚Äù) at 0.5. Convert it from a line plot to a scatterplot.\n\nAnswer:\n\nstockplotr::plot_fishing_mortality(\n  dat = stockplotr::example_data,\n  group = \"none\",\n  module = \"TIME_SERIES\",\n  ref_line = c(\"target\" = 0.5),\n  geom = \"point\"\n)\n\n\nCreate a landings table.\n\nAnswer:\n\nstockplotr::table_landings(\n  dat = stockplotr::example_data\n)\n\nNow, use your own data.\n\nConvert your own dataset using convert_output().\n\nAnswer:\n\nconvert_output(\n  file = \"path/to/your_report_file\"\n  # Specify these arguments if you wish: model, fleet_names,   save_dir\n)\n\n\nCreate a spawning biomass plot. Change the theme by applying the ggplot2::theme_classic().\n\nAnswer:\n\nstockplotr::plot_spawning_biomass(\n  dat = your_converted_data_object\n) +\n  ggplot2::theme_classic()\n\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Add figures/tables and render report\n\n\n\n\n\n\nEnsure that you have a ‚Äòfigures‚Äô folder and a ‚Äòtables‚Äô folder, each with at least one rda file. If you don‚Äôt, export a couple of figures and tables.\n\nHint: ensure that the make_rda argument is set to TRUE when running the {stockplotr} functions that create figures and tables).\n\nOpen up your figures and tables qmds, in the ‚Äòreport‚Äô folder. If these documents do not contain the necessary chunks to import and display at least one plot, rerun create_figures_doc() and/or create_tables_doc() to add code that will plot the figures/tables in your ‚Äòfigures‚Äô and ‚Äòtables‚Äô folders.\n\nHint: ensure that the arguments are correct: subdir and figures_dir (for the figures doc) / tables_dir (for the tables doc)\nHint: This step practices the ‚Äúrda-based workflow‚Äù.\n\nPractice adding a figure with markdown notation by adding the image of a landings figure into the figures doc. The figure is located in the ‚Äòexample_plots‚Äô folder. Set the caption to ‚ÄúHistorical landings by fleet.‚Äù, the alternative text to ‚ÄúCumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.‚Äù, and the figure label to ‚Äúpractice-figure-label‚Äù.\n\nHint: This step practices the ‚Äúdirect image-based workflow‚Äù.\n\nIn the Executive Summary, add a reference to the first figure in your figures qmd file.\n\n\n\n\n\n\n\n\n\n\nCautionAnswers for Practice exercises: Add figures/tables and render report\n\n\n\n\n\n\nPractice adding a figure with markdown notation by adding the image of a landings figure into the figures doc. The figure is located in the ‚Äòexample_plots‚Äô folder. Set the caption to ‚ÄúHistorical landings by fleet.‚Äù, the alternative text to ‚ÄúCumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.‚Äù, and the figure label to ‚Äúpractice-figure-label‚Äù. Hint: This step practices the ‚Äúdirect image-based workflow‚Äù.\n\nAnswer: Add the following chunk to the figures doc:\n\n![Historical landings by fleet.](example_plots/landings_fig_png.png){fig-alt=\"Cumulative line plot showing historical landings for North and South fleets. The x axis shows the year, which spans from 1850 to 2026. The y axis shows landings in metric tons, which spans from 0 to 2,400.\", #practice-figure-label}\n\n\nIn the Executive Summary, add a reference to the first figure in your figures qmd file.\n\nAnswer: If the ‚Äòlabel‚Äô for that first figure is ‚Äòfig-custom1‚Äô, then the in-text reference would be ‚Äò@fig-custom1‚Äô.\n\n\n\n\n\n\n\n\n\nCautionPractice exercises: Adding accessibility features\n\n\n\n\n\n\nIf you haven‚Äôt already, add tags to your pdf by running add_tagging() with the appropriate arguments (including compile set to TRUE). Then, open up the report and ensure it was tagged.\nOpen up the ‚Äúcaptions_alt_text.csv‚Äù file that contains your alternative text and captions. Find the rows that are linked with the figures and tables in your report.\n\nRead through the captions and alternative text. Edit inaccuracies if necessary.\nFor figures, add a sentence or two describing the final ingredient for a solid alternative text: the relationship between the variables shown (i.e., what the figure is conveying).\nIf you‚Äôve created custom figures/tables, create new rows for each. Add captions for all, and alternative text for just figures. Ensure that the label matches the chunk label.\n\nRun add_alttext() with compile set to TRUE. Then, open up the report and ensure the images contain alt text.",
    "crumbs": [
      "NSAW workshop"
    ]
  },
  {
    "objectID": "resources/good_practices.html",
    "href": "resources/good_practices.html",
    "title": "Good data science practices",
    "section": "",
    "text": "Use the here R package. As stated on their website: ‚ÄúThe goal of the here package is to enable easy file referencing in project-oriented workflows. In contrast to using setwd(), which is fragile and dependent on the way you organize your files, here uses the top-level directory of a project to easily build paths to files.‚Äù This is especially useful when you‚Äôre collaborating with others on the same files.\n\n\n\n\n\nCreate a reproducible example (‚Äúreprex‚Äù) to allow your helper to reproduce your issue and get a clear sense of the context. See the tidyverse‚Äôs ‚Äúdo‚Äôs and don‚Äôts‚Äù for making reprexes.",
    "crumbs": [
      "Good data science practices"
    ]
  },
  {
    "objectID": "resources/good_practices.html#organization",
    "href": "resources/good_practices.html#organization",
    "title": "Good data science practices",
    "section": "",
    "text": "Use the here R package. As stated on their website: ‚ÄúThe goal of the here package is to enable easy file referencing in project-oriented workflows. In contrast to using setwd(), which is fragile and dependent on the way you organize your files, here uses the top-level directory of a project to easily build paths to files.‚Äù This is especially useful when you‚Äôre collaborating with others on the same files.",
    "crumbs": [
      "Good data science practices"
    ]
  },
  {
    "objectID": "resources/good_practices.html#seeking-help",
    "href": "resources/good_practices.html#seeking-help",
    "title": "Good data science practices",
    "section": "",
    "text": "Create a reproducible example (‚Äúreprex‚Äù) to allow your helper to reproduce your issue and get a clear sense of the context. See the tidyverse‚Äôs ‚Äúdo‚Äôs and don‚Äôts‚Äù for making reprexes.",
    "crumbs": [
      "Good data science practices"
    ]
  }
]